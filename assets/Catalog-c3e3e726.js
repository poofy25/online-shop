import{a as r,F as f,j as g,r as h,f as C}from"./index-c0f4566b.js";import{s as u,J as d}from"./filter-9c4b88d1.js";import{P}from"./Product-b74b7795.js";function p(a){const e=a.catalogData.searchData[a.catalogData.catalogPage-1];return e?r(f,{children:r("div",{className:"catalogProductsContainer",children:e.length>0?e.map((c,o)=>r("div",{className:"catalogProduct",children:r(P,{product_object:c})},o)):r("p",{children:"NO PRODUCTS WERE FOUND"})})}):r("p",{children:"damn"})}function D(a){const e=a.catalogData,c=a.setCatalogData,o=()=>{e.catalogPage>1&&(c({...e,catalogPage:e.catalogPage-1}),document.documentElement.scrollTop=0)},t=()=>{e.catalogPage<e.searchData.length&&(c({...e,catalogPage:e.catalogPage+1}),document.documentElement.scrollTop=0)},s=l=>{l.target.textContent!=e.catalogPage&&(c({...e,catalogPage:Number(l.target.textContent)}),document.documentElement.scrollTop=0)};for(let l=0;l<document.querySelectorAll(".numberedBtns").length;l++)document.querySelectorAll(".numberedBtns")[l].textContent==e.catalogPage?document.querySelectorAll(".numberedBtns")[l].classList.add("deactivateNumberedBtn"):document.querySelectorAll(".numberedBtns")[l].classList.remove("deactivateNumberedBtn");return g("div",{className:"catalogPagesNavigatorContainer",children:[r("button",{onClick:o,className:`movingBtns ${e.catalogPage===1?"deactivateMovingBtn":""}`,children:"<"}),r("button",{onClick:s,className:"numberedBtns",children:1}),e.searchData.length<4?e.searchData.map((l,n)=>{if(!(n===0||e.searchData.length===1))return r("button",{onClick:s,className:"numberedBtns",children:n+1},n)}):e.searchData.map((l,n)=>{if(!(e.searchData.length===1||n===e.searchData.length-1))return r("button",{onClick:s,className:"numberedBtns",children:n+2},n)}),r("button",{onClick:t,className:`movingBtns ${e.catalogPage===e.searchData.length?"deactivateMovingBtn":""}`,children:">"})]})}const N="/online-shop/assets/filterIcon-2a7d15cc.png";const b=["All Categories","Shirts","Dresses","Jeans","Sportswear","Coats","Tops","Hoodies","Leggings","Trousers"];let i=null;function y(a){const e=a.catalogData,c=a.setCatalogData,o=t=>{let s=t.target.textContent==="All Categories"?"*":t.target.textContent;i!==t.target?(i!==null&&i.classList.remove("selectedCategoryBtn"),t.target.classList.add("selectedCategoryBtn"),i=t.target,c({...e,filters:{...e.filters,category:s}})):i===t.target&&!t.target.classList.contains("selectedCategoryBtn")&&(t.target.classList.add("selectedCategoryBtn"),i=t.target,c({...e,filters:{...e.filters,category:s}}))};return h.useEffect(()=>{i=document.querySelector(".selectedCategoryBtn")},[]),g("div",{className:"catalogHeader",children:[g("div",{className:"catalogCategoryName",children:[g("p",{children:["Women ",e.filters.category==="*"?"Clothing":e.filters.category]}),e.filters.name?g("p",{className:"catalogHeaderSearchValue",children:["Search result for: ",e.filters.name]}):""]}),r("div",{className:"catalogCategories",children:b.map((t,s)=>s===0?r("button",{className:"selectedCategoryBtn",onClick:o,children:t},s):r("button",{onClick:o,children:t},s))}),g("div",{className:"catalogFilterAndAmountContainer",children:[r("div",{className:"catalogProductAmount",children:g("p",{children:[e.rawSearchData.length," Products"]})}),g("button",{className:"catalogFilter",children:[r("img",{src:N}),"Filter"]})]})]})}function m(a,e){let c;const o=[];if(a.length>10){c=Math.ceil(a.length/10);for(let t=0;t<c;t++){let s=[],l=t===0?1:t+1,n=t*10;for(n;n<=l*10&&!(n>=l*10||n+1>a.length);n++)s.push(a[n]);o.push(s)}}else{let t=[],s=1;for(let l=0;l<=s*10&&!(l>=s*10||l+1>a.length);l++)t.push(a[l]);o.push(t)}return o}function V(){const a=C(),[e,c]=h.useState({filters:{name:a.searchValue,category:"*"},rawSearchData:u({name:a.searchValue,category:"*"},d),searchData:[],catalogPage:1});return console.log(e),h.useEffect(()=>{c({...e,rawSearchData:u({...e.filters,name:a.searchValue},d),searchData:m(u({...e.filters,name:a.searchValue},d)),catalogPage:1})},[e.filters]),h.useEffect(()=>{c({...e,filters:{...e.filters,name:a.searchValue},rawSearchData:u({...e.filters,name:a.searchValue},d),searchData:m(u({...e.filters,name:a.searchValue},d)),catalogPage:1})},[a]),r(f,{children:g("div",{className:"websiteContent",children:[r(y,{catalogData:e,setCatalogData:c,searchValue:a.searchValue}),r(p,{catalogData:e,setCatalogData:c,searchValue:a.searchValue}),r(D,{catalogData:e,setCatalogData:c})]})})}export{V as default};
