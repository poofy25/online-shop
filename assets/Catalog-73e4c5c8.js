import{a as c,F as C,j as g,g as P,h as N,r as h,u as b,f as v}from"./index-ca400a1f.js";import{s as u,J as d}from"./filter-9c4b88d1.js";import{P as D}from"./Product-1c9651d0.js";function y(t){const e=t.catalogData.searchData[t.catalogData.catalogPage-1];return e?c(C,{children:c("div",{className:"catalogProductsContainer",children:t.catalogData.searchData.length>0?e.map((s,n)=>c("div",{className:"catalogProduct",children:c(D,{product_object:s})},n)):c("p",{children:"NO PRODUCTS WERE FOUND"})})}):c("p",{children:"damn"})}function B(t){const e=t.catalogData,s=t.setCatalogData,n=()=>{e.catalogPage>1&&(s({...e,catalogPage:e.catalogPage-1}),document.documentElement.scrollTop=0)},l=()=>{e.catalogPage<e.searchData.length&&(s({...e,catalogPage:e.catalogPage+1}),document.documentElement.scrollTop=0)},r=a=>{a.target.textContent!=e.catalogPage&&(s({...e,catalogPage:Number(a.target.textContent)}),document.documentElement.scrollTop=0)};for(let a=0;a<document.querySelectorAll(".numberedBtns").length;a++)document.querySelectorAll(".numberedBtns")[a].textContent==e.catalogPage?document.querySelectorAll(".numberedBtns")[a].classList.add("deactivateNumberedBtn"):document.querySelectorAll(".numberedBtns")[a].classList.remove("deactivateNumberedBtn");return g("div",{className:"catalogPagesNavigatorContainer",children:[c("button",{onClick:n,className:`movingBtns ${e.catalogPage===1?"deactivateMovingBtn":""}`,children:"<"}),c("button",{onClick:r,className:"numberedBtns",children:1}),e.searchData.length<4?e.searchData.map((a,o)=>{if(!(o===0||e.searchData.length===1))return c("button",{onClick:r,className:"numberedBtns",children:o+1},o)}):e.searchData.map((a,o)=>{if(!(e.searchData.length===1||o===e.searchData.length-1))return c("button",{onClick:r,className:"numberedBtns",children:o+2},o)}),c("button",{onClick:l,className:`movingBtns ${e.catalogPage===e.searchData.length?"deactivateMovingBtn":""}`,children:">"})]})}const S="/online-shop/assets/filterIcon-2a7d15cc.png";const k=["All Categories","Shirts","Dresses","Jeans","Sportswear","Coats","Tops","Hoodies","Leggings","Trousers"];let i=null;function A(t){const e=t.catalogData,s=P(),n=Object.fromEntries(new URLSearchParams(s.search)),l=N(),r=a=>{const p={category:a.target.textContent==="All Categories"?"*":a.target.textContent};i!==a.target&&(i!==null&&i.classList.remove("selectedCategoryBtn"),a.target.classList.add("selectedCategoryBtn"),i=a.target,l(p,!0))};return h.useEffect(()=>{i=document.querySelector(".selectedCategoryBtn")},[]),g("div",{className:"catalogHeader",children:[g("div",{className:"catalogCategoryName",children:[g("p",{children:["Women ",e.filters.category==="*"?"Clothing":e.filters.category]}),e.filters.name?g("p",{className:"catalogHeaderSearchValue",children:["Search result for: ",e.filters.name]}):""]}),c("div",{className:"catalogCategories",children:k.map((a,o)=>o===0&&!n.category?c("button",{className:"selectedCategoryBtn",onClick:r,children:a},o):a===n.category?c("button",{className:"selectedCategoryBtn",onClick:r,children:a},o):c("button",{onClick:r,children:a},o))}),g("div",{className:"catalogFilterAndAmountContainer",children:[c("div",{className:"catalogProductAmount",children:g("p",{children:[e.rawSearchData.length," Products"]})}),g("button",{className:"catalogFilter",children:[c("img",{src:S}),"Filter"]})]})]})}const m=["name","category","price","color","size"];function f(t){let e;const s=[];if(t.length>10){e=Math.ceil(t.length/10);for(let n=0;n<e;n++){let l=[],r=n===0?1:n+1,a=n*10;for(a;a<=r*10&&!(a>=r*10||a+1>t.length);a++)l.push(t[a]);s.push(l)}}else{let n=[],l=1;for(let r=0;r<=l*10&&!(r>=l*10||r+1>t.length);r++)n.push(t[r]);s.push(n)}return s}function H(){b();const t=v(),e=P(),[s,n]=h.useState({filters:{name:t.searchValue,category:"*"},rawSearchData:u({name:t.searchValue,category:"*"},d),searchData:f(u({name:t.searchValue,category:"*"},d)),catalogPage:1});return h.useEffect(()=>{if(e.search){const l=Object.fromEntries(new URLSearchParams(e.search)),r={};for(const a in l)for(const o in m)if(a===m[o]){console.log(m[o],l[a]),r[a]=l[a];break}n({...s,filters:{...s.filters,...r},rawSearchData:u({...s.filters,...r},d),searchData:f(u({...s.filters,...r},d)),catalogPage:1})}},[e.search]),c(C,{children:g("div",{className:"websiteContent",children:[c(A,{catalogData:s,setCatalogData:n,searchValue:t.searchValue}),c(y,{catalogData:s,setCatalogData:n,searchValue:t.searchValue}),c(B,{catalogData:s,setCatalogData:n})]})})}export{H as default};
