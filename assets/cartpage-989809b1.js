import{r as l,C as g,u as p,a as r,j as t,F as d}from"./index-0d5b2d88.js";const h="/online-shop/assets/emptyCartImage-e50ae3ed.png";function S(){l.useContext(g);const a=p();return r("div",{className:"emptyCartContainer",children:[t("img",{src:h}),t("p",{className:"emptyCartText",children:"You have no items in cart."}),t("p",{children:"Dilvin has many articles that are waiting for you!"}),t("button",{onClick:()=>{a("/")},className:"goShoppingBtn",children:"Go Shopping"})]})}function C(a){let e=a.productData;const[n,o]=l.useState(e.amount),u=c=>{const s=JSON.parse(localStorage.getItem("cartProducts")).filter(m=>m.uniqueID!==c.uniqueID);localStorage.setItem("cartProducts",JSON.stringify(s)),console.log(s),a.updateLS(JSON.parse(localStorage.getItem("cartProducts")))},i=c=>{c.target.textContent==="-"?n-1>0?o(s=>s-1):(console.log("Delete function"),u(e)):c.target.textContent==="+"&&o(s=>s+1)};return l.useEffect(()=>{o(e.amount)},[a.LSData]),l.useEffect(()=>{e={...e,amount:n};let c=JSON.parse(localStorage.getItem("cartProducts"));c[a.productIndex]=e,localStorage.setItem("cartProducts",JSON.stringify(c))},[n]),r("div",{className:"productCartContainer",children:[t("img",{src:e.image}),r("div",{className:"cartProductDetails",children:[t("p",{className:"cartProductName",children:e.name}),r("p",{className:"cartProductPrice",children:["$",e.price]}),r("span",{children:[r("span",{className:"cartProductSize",children:[t("p",{children:"Size: "}),t("p",{children:e.size})]}),r("span",{className:"cartProductColor",children:[t("p",{children:"Color: "}),t("p",{children:e.color})]})]}),r("div",{className:"productCountContainer",children:[t("button",{onClick:i,children:"-"}),t("div",{className:"productAmmount",children:n}),t("button",{onClick:i,children:"+"})]})]})]})}function P(){const[a,e]=l.useState(JSON.parse(localStorage.getItem("cartProducts")));return console.log("Rerendered Page"),JSON.parse(localStorage.getItem("cartProducts"))===null||JSON.parse(localStorage.getItem("cartProducts")).length===0?t(d,{children:t("div",{className:"websiteContent",children:t(S,{})})}):t(d,{children:t("div",{className:"websiteContent",children:t("div",{className:"cartPage",children:a.map((n,o)=>t(C,{productData:n,productIndex:o,updateLS:e,LSData:a},o))})})})}export{P as default};
