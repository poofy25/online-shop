import{a,F as _,j as r,r as n,C as k,d as q}from"./index-0c84e035.js";import{s as y,J as w}from"./filter-8d223ecb.js";function E(c){const e=c.productData;return a(_,{children:[r("p",{className:"productPercentOff",children:e!=null&&e.discount?`Save ${e==null?void 0:e.discount.percentage}%`:""}),a("div",{className:"productPriceContainer",children:[r("p",{className:"productPrice",children:e!=null&&e.discount?"":"$"+(e==null?void 0:e.price)}),r("p",{className:"productPriceAfterDiscount",children:e!=null&&e.discount?"$"+(e==null?void 0:e.discount.price_after_discount):""}),r("p",{className:"productPriceBeforeDiscount",children:e!=null&&e.discount?"$"+(e==null?void 0:e.price):""})]})]})}function L(c){const e=c.productData,[i,t]=n.useState(e==null?void 0:e.colors[0]),d=s=>{t(s.target.attributes.btncolor.value),c.productCartData(o=>({...o,color:s.target.attributes.btncolor.value})),s.target.parentNode.childNodes.forEach(o=>{o.style.border="2px solid rgba(0, 0, 0 , 0.5)",o.style.boxShadow="none"}),s.target.style.border="2px solid white",s.target.style.boxShadow="0px 0px 0px 2px rgba(0, 0, 0,.75)"};return n.useEffect(()=>{t(e==null?void 0:e.colors[0])},[c.productData]),a("div",{className:"productColorsContainer",children:[a("p",{className:"productSelectedColor",children:["Color  ",a("span",{children:["- ",i]})]}),r("div",{className:"colorsBtns",children:e==null?void 0:e.colors.map((s,o)=>r("button",{style:{backgroundColor:s,boxShadow:o===0?"0px 0px 0px 2px rgba(0, 0, 0,.75)":"none",border:o===0?"2px solid white":"2px solid rgba(0, 0, 0 , 0.5)"},onClick:d,btncolor:s,children:s},s))})]})}function B(c){const e=c.productData,[i,t]=n.useState("Chose your size "),d=o=>{document.querySelector(".productSizesContainer").classList.contains("open")?document.querySelector(".productSizesContainer").classList.remove("open"):document.querySelector(".productSizesContainer").classList.add("open")},s=o=>{t(o.target.textContent),c.productCartData(l=>({...l,size:o.target.textContent})),document.querySelector(".productSizesContainer").classList.remove("open")};return a("div",{className:"productSizesContainer",children:[r("p",{children:"Size"}),a("button",{className:"sizesBtn",onClick:d,children:[i,a("div",{className:"btnarrow",children:[r("div",{className:"leftarrow"}),r("div",{className:"rightarrow"})]})]}),r("div",{className:"sizesdropdownMenu",children:e==null?void 0:e.sizes.map(o=>r("button",{onClick:s,children:o},o))})]})}function D(c){const{value:e,setValue:i}=n.useContext(k),t=c.productCartData;return r("button",{className:"toCartBtn",onClick:()=>{c.productCartData.size===""?document.querySelector(".productSizesContainer").classList.contains("open")?document.querySelector(".productSizesContainer").classList.remove("open"):document.querySelector(".productSizesContainer").classList.add("open"):(console.log(e),e.lenght===0?i([t]):i([t,...e]),console.log("Context Value :"),console.log(e))},children:"Add to cart"})}function F(){var l,u,p,m,C,h,S,f;let c=q();const[e,i]=n.useState(Number(c.id)),[t,d]=n.useState({}),[s,o]=n.useState({name:(l=t[0])==null?void 0:l.name,price:(u=t[0])==null?void 0:u.price,discount:(p=t[0])!=null&&p.discount?{percent:(m=t[0])==null?void 0:m.discount.percent,price_after_discount:(C=t[0])==null?void 0:C.discount.price_after_discount}:null,color:"",size:"",image:(h=t[0])==null?void 0:h.image});return n.useEffect(()=>{d(y({id:[e]},w))},[]),n.useEffect(()=>{i(Number(c.id))},[c]),n.useEffect(()=>{d(y({id:[e]},w))},[e]),n.useEffect(()=>{var g,x,N,b,z,v,P;o({name:(g=t[0])==null?void 0:g.name,price:(x=t[0])==null?void 0:x.price,discount:(N=t[0])!=null&&N.discount?{percent:(b=t[0])==null?void 0:b.discount.percentage,price_after_discount:(z=t[0])==null?void 0:z.discount.price_after_discount}:null,color:(v=t[0])==null?void 0:v.colors[0],size:"",image:(P=t[0])==null?void 0:P.image})},[t]),a("div",{className:"productScreen",children:[r("img",{src:(S=t[0])==null?void 0:S.image}),a("div",{className:"productContent",children:[r("p",{className:"productName",children:(f=t[0])==null?void 0:f.name}),r(E,{productData:t[0]}),r(L,{productData:t[0],productCartData:o}),r(B,{productData:t[0],productCartData:o}),r(D,{productData:t[0],productCartData:s})]})]})}export{F as default};
