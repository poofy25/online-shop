import{a as t,F as p,j as i,r as d,g as P,h as S,u as B,f as b}from"./index-ae5d78c7.js";import{s as h,J as f}from"./filter-d07eb3c7.js";import{P as D}from"./Product-9c05c7ed.js";function L(a){const e=a.catalogData.searchData[a.catalogData.catalogPage-1];return e?t(p,{children:t("div",{className:"catalogProductsContainer",children:a.catalogData.searchData.length>0?e.map((o,r)=>t("div",{className:"catalogProduct",children:t(D,{product_object:o})},r)):t("p",{children:"NO PRODUCTS WERE FOUND"})})}):t("p",{children:"damn"})}function k(a){const e=a.catalogData,o=a.setCatalogData,r=()=>{e.catalogPage>1&&(o({...e,catalogPage:e.catalogPage-1}),document.documentElement.scrollTop=0)},c=()=>{e.catalogPage<e.searchData.length&&(o({...e,catalogPage:e.catalogPage+1}),document.documentElement.scrollTop=0)},l=n=>{n.target.textContent!=e.catalogPage&&(o({...e,catalogPage:Number(n.target.textContent)}),document.documentElement.scrollTop=0)};for(let n=0;n<document.querySelectorAll(".numberedBtns").length;n++)document.querySelectorAll(".numberedBtns")[n].textContent==e.catalogPage?document.querySelectorAll(".numberedBtns")[n].classList.add("deactivateNumberedBtn"):document.querySelectorAll(".numberedBtns")[n].classList.remove("deactivateNumberedBtn");return i("div",{className:"catalogPagesNavigatorContainer",children:[t("button",{onClick:r,className:`movingBtns ${e.catalogPage===1?"deactivateMovingBtn":""}`,children:"<"}),t("button",{onClick:l,className:"numberedBtns",children:1}),e.searchData.length<4?e.searchData.map((n,s)=>{if(!(s===0||e.searchData.length===1))return t("button",{onClick:l,className:"numberedBtns",children:s+1},s)}):e.searchData.map((n,s)=>{if(!(e.searchData.length===1||s===e.searchData.length-1))return t("button",{onClick:l,className:"numberedBtns",children:s+2},s)}),t("button",{onClick:c,className:`movingBtns ${e.catalogPage===e.searchData.length?"deactivateMovingBtn":""}`,children:">"})]})}const O="/online-shop/assets/filterIcon-2a7d15cc.png";function E(a){return t("div",{className:"catalogFilterBtn",onClick:()=>{a.setOptionSelected({name:a.name,element:a.element})},children:i("div",{className:"catalogFilterBtnContainer",children:[t("p",{children:a==null?void 0:a.name}),i("button",{className:"filterArrowBtn",children:[t("div",{}),t("div",{})]})]})})}function y(a){return t("div",{className:"viewItemsContainer",children:t("button",{onClick:()=>{a.closeFilterMenu(!1)},children:"VIEW ITEMS"})})}function A(a){return d.useEffect(()=>{const e=document.querySelector(".filterOptionContaianer");return setTimeout(()=>{console.log("mounted"),e.classList.add("active")},10),()=>{console.log("unmounted"),e.classList.remove("active")}},[]),t("div",{className:"filterOptionContaianer",children:"COLORS"})}function q(a){return d.useEffect(()=>{const e=document.querySelector(".filterOptionContaianer");return setTimeout(()=>{console.log("mounted"),e.classList.add("active")},10),()=>{console.log("unmounted"),e.classList.remove("active")}},[]),t("div",{className:"filterOptionContaianer",children:"Brand"})}function w(a){return d.useEffect(()=>{const e=document.querySelector(".filterOptionContaianer");return setTimeout(()=>{console.log("mounted"),e.classList.add("active")},10),()=>{console.log("unmounted"),e.classList.remove("active")}},[]),t("div",{className:"filterOptionContaianer",children:"Category"})}function T(a){return d.useEffect(()=>{const e=document.querySelector(".filterOptionContaianer");return setTimeout(()=>{console.log("mounted"),e.classList.add("active")},10),()=>{console.log("unmounted"),e.classList.remove("active")}},[]),t("div",{className:"filterOptionContaianer",children:"Price"})}function V(a){return d.useEffect(()=>{const e=document.querySelector(".filterOptionContaianer");return setTimeout(()=>{console.log("mounted"),e.classList.add("active")},10),()=>{console.log("unmounted"),e.classList.remove("active")}},[]),t("div",{className:"filterOptionContaianer",children:"Size"})}const H=[{name:"Brand",element:t(q,{})},{name:"Category",element:t(w,{})},{name:"Color",element:t(A,{})},{name:"Size",element:t(V,{})},{name:"Price",element:t(T,{})}];function I(a){var s;const e=a.filtersBtn.current,o=d.useRef(null),[r,c]=d.useState(!1),[l,n]=d.useState(null);return e&&(e.onclick=()=>{c(!r)}),d.useEffect(()=>{r?(o.current.classList.add("on"),document.body.style.overflow="hidden",n(null)):(o.current.classList.remove("on"),document.body.style.overflow="auto")},[r]),d.useEffect(()=>{l!==null&&(document.querySelector(".catalogFiltersSecond").classList.add("Active"),document.querySelector(".catalogFiltersFirst").classList.remove("Active")),l===null&&(document.querySelector(".catalogFiltersSecond").classList.remove("Active"),document.querySelector(".catalogFiltersFirst").classList.add("Active"))},[l]),i("div",{className:"catalogFilterMenu",ref:o,children:[i("div",{className:"catalogFiltersContainer",children:[i("div",{className:"catalogFiltersFirst",children:[t("div",{className:"catalogFilterHeader",children:t("p",{children:"FILTER"})}),t("div",{className:"catalogFilterOptions",children:H.map((g,u)=>t(E,{name:g.name,element:g.element,setOptionSelected:n},u))}),t(y,{closeFilterMenu:c})]}),i("div",{className:"catalogFiltersSecond",children:[i("div",{className:"catalogFilterHeader",children:[i("button",{onClick:()=>n(null),children:[t("div",{}),t("div",{})]}),t("p",{onClick:()=>n(null),children:(s=l==null?void 0:l.name)==null?void 0:s.toUpperCase()})]}),t("div",{className:"catalogFilterOptions",children:l==null?void 0:l.element}),t(y,{closeFilterMenu:c})]})]}),t("div",{className:"catalogFiltersShadow",onClick:()=>{c(!1)}})]})}const x=["All Categories","Shirts","Dresses","Jeans","Sportswear","Coats","Tops","Hoodies","Leggings","Trousers"];let m=null;const N=(a,e)=>{for(var o=0;o<e.length;o++)if(e[o].textContent==a)return e[o];return"nothing"};function M(a){const e=a.catalogData,o=P(),r=S(),c=Object.fromEntries(new URLSearchParams(r.search));let l,n;const s=d.useRef(null),g=u=>{m!==u.target&&(n=u.target.textContent==="All Categories"?"*":u.target.textContent,l={category:n},m!==null&&m.classList.remove("selectedCategoryBtn"),u.target.classList.add("selectedCategoryBtn"),m=u.target,o(l,!0))};return d.useEffect(()=>{m=document.querySelector(".selectedCategoryBtn")},[]),d.useEffect(()=>{const u=document.querySelector(".catalogCategories").childNodes;c.category?m=N(c.category!=="*"?c.category:"All Categories",u):m=N("All Categories",u)},[c]),i("div",{className:"catalogHeader",children:[i("div",{className:"catalogCategoryName",children:[i("p",{children:["Women ",e.filters.category==="*"?"Clothing":e.filters.category]}),e.filters.name?i("p",{className:"catalogHeaderSearchValue",children:["Search result for: ",e.filters.name]}):""]}),t("div",{className:"catalogCategories",children:x.map((u,C)=>C===0&&!c.category?t("button",{className:"selectedCategoryBtn",onClick:g,children:u},C):u===c.category?t("button",{className:"selectedCategoryBtn",onClick:g,children:u},C):t("button",{onClick:g,children:u},C))}),i("div",{className:"catalogFilterAndAmountContainer",children:[t("div",{className:"catalogProductAmount",children:i("p",{children:[e.rawSearchData.length," Products"]})}),i("button",{className:"catalogFilter",ref:s,children:[t("img",{src:O}),"Filter"]})]}),t(I,{filtersBtn:s})]})}const F=["name","category","price","color","size"];function v(a){let e;const o=[];if(a.length>10){e=Math.ceil(a.length/10);for(let r=0;r<e;r++){let c=[],l=r===0?1:r+1,n=r*10;for(n;n<=l*10&&!(n>=l*10||n+1>a.length);n++)c.push(a[n]);o.push(c)}}else{let r=[],c=1;for(let l=0;l<=c*10&&!(l>=c*10||l+1>a.length);l++)r.push(a[l]);o.push(r)}return o}function z(){const a=B(),e=b(),o=S(),[r,c]=d.useState({filters:{name:e.searchValue,category:"*"},rawSearchData:h({name:e.searchValue,category:"*"},f),searchData:v(h({name:e.searchValue,category:"*"},f)),catalogPage:1});return d.useEffect(()=>{const l=Object.fromEntries(new URLSearchParams(o.search)),n={};for(const s in l)for(const g in F)if(s===F[g]){n[s]=l[s];break}Object.keys(n).length!==0?c({...r,filters:{...r.filters,...n},rawSearchData:h({...r.filters,...n},f),searchData:v(h({...r.filters,...n},f)),catalogPage:1}):(c({filters:{name:l.searchValue,category:"*"},rawSearchData:h({name:l.searchValue,category:"*"},f),searchData:v(h({name:l.searchValue,category:"*"},f)),catalogPage:1}),a("/catalog"))},[o.search]),t(p,{children:i("div",{className:"websiteContent",children:[t(M,{catalogData:r,setCatalogData:c,searchValue:e.searchValue}),t(L,{catalogData:r,setCatalogData:c,searchValue:e.searchValue}),t(k,{catalogData:r,setCatalogData:c})]})})}export{z as default};
