import{a as r,F as D,j as o,r as i,f as y}from"./index-4cf345a7.js";import{s as f,J as C}from"./filter-9c4b88d1.js";import{P as B}from"./Product-c68194cf.js";function S(e){const n=e.searchData;return n?r(D,{children:r("div",{className:"catalogProductsContainer",children:n.length>0?n.map((s,t)=>r("div",{className:"catalogProduct",children:r(B,{product_object:s})},t)):r("p",{children:"NO PRODUCTS WERE FOUND"})})}):r("p",{children:"damn"})}function k(e){const n=()=>{e.catalogPage>1&&(e.setCatalogPage(e.catalogPage-1),document.documentElement.scrollTop=0)},s=()=>{e.catalogPage<e.searchData.length&&(e.setCatalogPage(e.catalogPage+1),document.documentElement.scrollTop=0)},t=a=>{a.target.textContent!=e.catalogPage&&(e.setCatalogPage(Number(a.target.textContent)),document.documentElement.scrollTop=0)};for(let a=0;a<document.querySelectorAll(".numberedBtns").length;a++)document.querySelectorAll(".numberedBtns")[a].textContent==e.catalogPage?document.querySelectorAll(".numberedBtns")[a].classList.add("deactivateNumberedBtn"):document.querySelectorAll(".numberedBtns")[a].classList.remove("deactivateNumberedBtn");return o("div",{className:"catalogPagesNavigatorContainer",children:[r("button",{onClick:n,className:`movingBtns ${e.catalogPage===1?"deactivateMovingBtn":""}`,children:"<"}),r("button",{onClick:t,className:"numberedBtns",children:1}),e.searchData.length<4?e.searchData.map((a,c)=>{if(!(c===2||e.searchData.length===1))return r("button",{onClick:t,className:"numberedBtns",children:c+2},c)}):e.searchData.map((a,c)=>{if(!(e.searchData.length===1||c===e.searchData.length-1))return r("button",{onClick:t,className:"numberedBtns",children:c+2},c)}),r("button",{onClick:s,className:`movingBtns ${e.catalogPage===e.searchData.length?"deactivateMovingBtn":""}`,children:">"})]})}const A="/online-shop/assets/filterIcon-2a7d15cc.png";const E=["All Categories","Shirts","Dresses","Jeans","Sportswear","Coats","Tops","Hoodies","Leggings","Trousers"];let d=null;function F(e){const n=e.rawSearchData,s=t=>{let a=t.target.textContent==="All Categories"?"*":t.target.textContent;d!==t.target?(d!==null&&d.classList.remove("selectedCategoryBtn"),t.target.classList.add("selectedCategoryBtn"),d=t.target,e.setFilters(c=>({...c,category:a}))):d===t.target&&!t.target.classList.contains("selectedCategoryBtn")&&(t.target.classList.add("selectedCategoryBtn"),d=t.target,e.setFilters(c=>({...c,category:a})))};return i.useEffect(()=>{d=document.querySelector(".selectedCategoryBtn")},[]),o("div",{className:"catalogHeader",children:[o("div",{className:"catalogCategoryName",children:[o("p",{children:["Women ",e.filters.category==="*"?"Clothing":e.filters.category]}),e.filters.name?o("p",{className:"catalogHeaderSearchValue",children:["Search result for: ",e.filters.name]}):console.log(e.filters)]}),r("div",{className:"catalogCategories",children:E.map((t,a)=>a===0?r("button",{className:"selectedCategoryBtn",onClick:s,children:t},a):r("button",{onClick:s,children:t},a))}),o("div",{className:"catalogFilterAndAmountContainer",children:[r("div",{className:"catalogProductAmount",children:o("p",{children:[n.length," Products"]})}),o("button",{className:"catalogFilter",children:[r("img",{src:A}),"Filter"]})]})]})}function H(){const e=y(),[n,s]=i.useState({name:e.searchValue,category:"*"}),[t,a]=i.useState(f(n,C)),[c,v]=i.useState([]),P=[],[m,N]=i.useState(1);let b;return i.useEffect(()=>{a(f({name:e.searchValue},C)),s(l=>({...l,name:e.searchValue}))},[e]),i.useEffect(()=>{f(n,C)!==t&&a(f(n,C))},[n]),i.useEffect(()=>{if(t.length>10){b=Math.ceil(t.length/10);for(let l=0;l<b;l++){let h=[],g=l===0?1:l+1,u=l*10;for(u;u<=g*10&&!(u>=g*10||u+1>t.length);u++)h.push(t[u]);P.push(h)}}else{let l=[],h=1;for(let g=0;g<=h*10&&!(g>=h*10||g+1>t.length);g++)l.push(t[g]);P.push(l)}v(P),N(1)},[t]),r(D,{children:o("div",{className:"websiteContent",children:[r(F,{searchData:c[m-1],searchValue:e.searchValue,rawSearchData:t,setFilters:s,filters:n}),r(S,{searchData:c[m-1],searchValue:e.searchValue,catalogPage:m}),r(k,{catalogPage:m,searchData:c,setCatalogPage:N})]})})}export{H as default};
