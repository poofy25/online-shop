import{a as e,F as S,j as i,r as d,g as p,h as P,u as B,f as b}from"./index-fd52dc83.js";import{s as h,J as f}from"./filter-d07eb3c7.js";import{P as D}from"./Product-990afe8e.js";function k(a){const t=a.catalogData.searchData[a.catalogData.catalogPage-1];return t?e(S,{children:e("div",{className:"catalogProductsContainer",children:a.catalogData.searchData.length>0?t.map((o,c)=>e("div",{className:"catalogProduct",children:e(D,{product_object:o})},c)):e("p",{children:"NO PRODUCTS WERE FOUND"})})}):e("p",{children:"damn"})}function A(a){const t=a.catalogData,o=a.setCatalogData,c=()=>{t.catalogPage>1&&(o({...t,catalogPage:t.catalogPage-1}),document.documentElement.scrollTop=0)},n=()=>{t.catalogPage<t.searchData.length&&(o({...t,catalogPage:t.catalogPage+1}),document.documentElement.scrollTop=0)},r=l=>{l.target.textContent!=t.catalogPage&&(o({...t,catalogPage:Number(l.target.textContent)}),document.documentElement.scrollTop=0)};for(let l=0;l<document.querySelectorAll(".numberedBtns").length;l++)document.querySelectorAll(".numberedBtns")[l].textContent==t.catalogPage?document.querySelectorAll(".numberedBtns")[l].classList.add("deactivateNumberedBtn"):document.querySelectorAll(".numberedBtns")[l].classList.remove("deactivateNumberedBtn");return i("div",{className:"catalogPagesNavigatorContainer",children:[e("button",{onClick:c,className:`movingBtns ${t.catalogPage===1?"deactivateMovingBtn":""}`,children:"<"}),e("button",{onClick:r,className:"numberedBtns",children:1}),t.searchData.length<4?t.searchData.map((l,s)=>{if(!(s===0||t.searchData.length===1))return e("button",{onClick:r,className:"numberedBtns",children:s+1},s)}):t.searchData.map((l,s)=>{if(!(t.searchData.length===1||s===t.searchData.length-1))return e("button",{onClick:r,className:"numberedBtns",children:s+2},s)}),e("button",{onClick:n,className:`movingBtns ${t.catalogPage===t.searchData.length?"deactivateMovingBtn":""}`,children:">"})]})}const L="/online-shop/assets/filterIcon-2a7d15cc.png";function O(a){return e("div",{className:"catalogFilterBtn",onClick:()=>{a.setOptionSelected({name:a.name,element:a.element})},children:i("div",{className:"catalogFilterBtnContainer",children:[e("p",{children:a==null?void 0:a.name}),i("button",{className:"filterArrowBtn",children:[e("div",{}),e("div",{})]})]})})}function F(a){return e("div",{className:"viewItemsContainer",children:e("button",{onClick:()=>{a.closeFilterMenu(!1)},children:"VIEW ITEMS"})})}function E(a){return e("div",{className:"filterOptionContaianer",children:"COLORS"})}function w(a){return e("div",{className:"filterOptionContaianer",children:"Brand"})}function q(a){return e("div",{className:"filterOptionContaianer",children:"Category"})}function V(a){return e("div",{className:"filterOptionContaianer",children:"Price"})}function H(a){return e("div",{className:"filterOptionContaianer",children:"Size"})}const T=[{name:"Brand",element:e(w,{})},{name:"Category",element:e(q,{})},{name:"Color",element:e(E,{})},{name:"Size",element:e(H,{})},{name:"Price",element:e(V,{})}];function I(a){var s;const t=a.filtersBtn.current,o=d.useRef(null),[c,n]=d.useState(!1),[r,l]=d.useState(null);return t&&(t.onclick=()=>{n(!c)}),d.useEffect(()=>{c?(o.current.classList.add("on"),document.body.style.overflow="hidden",l(null)):(o.current.classList.remove("on"),document.body.style.overflow="auto")},[c]),d.useEffect(()=>{r!==null&&(document.querySelector(".catalogFiltersSecond").classList.add("Active"),document.querySelector(".catalogFiltersFirst").classList.remove("Active")),r===null&&(document.querySelector(".catalogFiltersSecond").classList.remove("Active"),document.querySelector(".catalogFiltersFirst").classList.add("Active"))},[r]),i("div",{className:"catalogFilterMenu",ref:o,children:[i("div",{className:"catalogFiltersContainer",children:[i("div",{className:"catalogFiltersFirst",children:[e("div",{className:"catalogFilterHeader",children:e("p",{children:"FILTER"})}),e("div",{className:"catalogFilterOptions",children:T.map((u,g)=>e(O,{name:u.name,element:u.element,setOptionSelected:l},g))}),e(F,{closeFilterMenu:n})]}),i("div",{className:"catalogFiltersSecond",children:[i("div",{className:"catalogFilterHeader",children:[i("button",{onClick:()=>{document.querySelector(".catalogFiltersSecond").classList.remove("Active"),document.querySelector(".catalogFiltersFirst").classList.add("Active"),setTimeout(()=>{l(null)},500)},children:[e("div",{}),e("div",{})]}),e("p",{onClick:()=>{document.querySelector(".catalogFiltersSecond").classList.remove("Active"),document.querySelector(".catalogFiltersFirst").classList.add("Active"),setTimeout(()=>{l(null)},500)},children:(s=r==null?void 0:r.name)==null?void 0:s.toUpperCase()})]}),e("div",{className:"catalogFilterOptions",children:r==null?void 0:r.element}),e(F,{closeFilterMenu:n})]})]}),e("div",{className:"catalogFiltersShadow",onClick:()=>{n(!1)}})]})}const x=["All Categories","Shirts","Dresses","Jeans","Sportswear","Coats","Tops","Hoodies","Leggings","Trousers"];let m=null;const y=(a,t)=>{for(var o=0;o<t.length;o++)if(t[o].textContent==a)return t[o];return"nothing"};function M(a){const t=a.catalogData,o=p(),c=P(),n=Object.fromEntries(new URLSearchParams(c.search));let r,l;const s=d.useRef(null),u=g=>{m!==g.target&&(l=g.target.textContent==="All Categories"?"*":g.target.textContent,r={category:l},m!==null&&m.classList.remove("selectedCategoryBtn"),g.target.classList.add("selectedCategoryBtn"),m=g.target,o(r,!0))};return d.useEffect(()=>{m=document.querySelector(".selectedCategoryBtn")},[]),d.useEffect(()=>{const g=document.querySelector(".catalogCategories").childNodes;n.category?m=y(n.category!=="*"?n.category:"All Categories",g):m=y("All Categories",g)},[n]),i("div",{className:"catalogHeader",children:[i("div",{className:"catalogCategoryName",children:[i("p",{children:["Women ",t.filters.category==="*"?"Clothing":t.filters.category]}),t.filters.name?i("p",{className:"catalogHeaderSearchValue",children:["Search result for: ",t.filters.name]}):""]}),e("div",{className:"catalogCategories",children:x.map((g,C)=>C===0&&!n.category?e("button",{className:"selectedCategoryBtn",onClick:u,children:g},C):g===n.category?e("button",{className:"selectedCategoryBtn",onClick:u,children:g},C):e("button",{onClick:u,children:g},C))}),i("div",{className:"catalogFilterAndAmountContainer",children:[e("div",{className:"catalogProductAmount",children:i("p",{children:[t.rawSearchData.length," Products"]})}),i("button",{className:"catalogFilter",ref:s,children:[e("img",{src:L}),"Filter"]})]}),e(I,{filtersBtn:s})]})}const N=["name","category","price","color","size"];function v(a){let t;const o=[];if(a.length>10){t=Math.ceil(a.length/10);for(let c=0;c<t;c++){let n=[],r=c===0?1:c+1,l=c*10;for(l;l<=r*10&&!(l>=r*10||l+1>a.length);l++)n.push(a[l]);o.push(n)}}else{let c=[],n=1;for(let r=0;r<=n*10&&!(r>=n*10||r+1>a.length);r++)c.push(a[r]);o.push(c)}return o}function z(){const a=B(),t=b(),o=P(),[c,n]=d.useState({filters:{name:t.searchValue,category:"*"},rawSearchData:h({name:t.searchValue,category:"*"},f),searchData:v(h({name:t.searchValue,category:"*"},f)),catalogPage:1});return d.useEffect(()=>{const r=Object.fromEntries(new URLSearchParams(o.search)),l={};for(const s in r)for(const u in N)if(s===N[u]){l[s]=r[s];break}Object.keys(l).length!==0?n({...c,filters:{...c.filters,...l},rawSearchData:h({...c.filters,...l},f),searchData:v(h({...c.filters,...l},f)),catalogPage:1}):(n({filters:{name:r.searchValue,category:"*"},rawSearchData:h({name:r.searchValue,category:"*"},f),searchData:v(h({name:r.searchValue,category:"*"},f)),catalogPage:1}),a("/catalog"))},[o.search]),e(S,{children:i("div",{className:"websiteContent",children:[e(M,{catalogData:c,setCatalogData:n,searchValue:t.searchValue}),e(k,{catalogData:c,setCatalogData:n,searchValue:t.searchValue}),e(A,{catalogData:c,setCatalogData:n})]})})}export{z as default};
