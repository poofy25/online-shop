import{u as g,a as c,j as t,r as d,F as u}from"./index-9b4cc42c.js";const C="/online-shop/assets/emptyCartImage-e50ae3ed.png";function S(){const a=g();return c("div",{className:"emptyCartContainer",children:[t("img",{src:C}),t("p",{className:"emptyCartText",children:"You have no items in cart."}),t("p",{children:"Dilvin has many articles that are waiting for you!"}),t("button",{onClick:()=>{a("/")},className:"goShoppingBtn",children:"Go Shopping"})]})}const N="/online-shop/assets/trashIcon-19b5cd10.png";function f(a){let l=g(),e=a.productData;const[o,n]=d.useState(e.amount),r=s=>{const i=JSON.parse(localStorage.getItem("cartProducts")).filter(h=>h.uniqueID!==s.uniqueID);localStorage.setItem("cartProducts",JSON.stringify(i)),console.log(i),a.updateLS(JSON.parse(localStorage.getItem("cartProducts")))},m=s=>{s.target.textContent==="-"?o-1>0?n(i=>i-1):(console.log("Delete function"),r(e)):s.target.textContent==="+"&&n(i=>i+1)};d.useEffect(()=>{n(e.amount)},[a.LSData]),d.useEffect(()=>{e={...e,amount:o};let s=JSON.parse(localStorage.getItem("cartProducts"));s[a.productIndex]=e,localStorage.setItem("cartProducts",JSON.stringify(s)),a.updateLS(JSON.parse(localStorage.getItem("cartProducts")))},[o]);const p=()=>{l(`/product/${e.id}`)};return c("div",{className:"productCartContainer",children:[t("img",{src:e.image,onClick:p}),c("div",{className:"cartProductDetails",children:[t("p",{className:"cartProductName",onClick:p,children:e.name}),t("button",{className:"cartProductTrashBtn",onClick:()=>{r(e)},children:t("img",{src:N})}),c("span",{className:"sizeAndColorContainer",children:[c("span",{className:"cartProductSize",children:[t("p",{children:"Size: "}),t("p",{children:e.size})]}),c("span",{className:"cartProductColor",children:[t("p",{children:"Color: "}),t("p",{children:e.color})]})]}),c("p",{className:"cartProductPrice",children:["$",(o*(e.discount?e.discount.price_after_discount:e.price)).toFixed(2),o>1?c("span",{children:["   |   $",e.discount?e.discount.price_after_discount:e.price," ea."]}):t(u,{})]}),c("div",{className:"productCountContainer",children:[t("button",{onClick:m,children:"-"}),t("div",{className:"productAmmount",children:o}),t("button",{onClick:m,children:"+"})]})]})]})}function I(){const[a,l]=d.useState(JSON.parse(localStorage.getItem("cartProducts")));localStorage.setItem("cartNotification",!1),console.log("Rerendered Page");const e=()=>{let n=0;for(const r in a)n+=a[r].amount*(a[r].discount?a[r].discount.price_after_discount:a[r].price);return n.toFixed(2)},o=()=>{let n=0;for(const r in a)n+=a[r].amount;return n};return JSON.parse(localStorage.getItem("cartProducts"))===null||JSON.parse(localStorage.getItem("cartProducts")).length===0?t(u,{children:t("div",{className:"websiteContent",children:t(S,{})})}):(document.querySelector(".navCartNotification").classList.remove("active"),t(u,{children:t("div",{className:"websiteContent",children:c("div",{className:"cartPage",children:[t("p",{className:"cartPageHeader",children:"Your shopping cart"}),c("div",{className:"checkoutContainer",children:[c("p",{className:"checkoutItemsAmount",children:["Items: ",t("span",{children:o()})]}),c("p",{className:"checkoutAmount",children:["Subtotal: ",c("span",{children:["$",e()]})]}),t("button",{className:"checkoutBtn",children:"CHECKOUT"})]}),a.map((n,r)=>t(f,{productData:n,productIndex:r,updateLS:l,LSData:a},r))]})})}))}export{I as default};
