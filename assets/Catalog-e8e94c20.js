import{a as r,F as N,j as g,r as u,g as p,h as b,u as D,f as B}from"./index-74647018.js";import{s as h,J as m}from"./filter-9c4b88d1.js";import{P as S}from"./Product-dd8be0c2.js";function k(s){const e=s.catalogData.searchData[s.catalogData.catalogPage-1];return e?r(N,{children:r("div",{className:"catalogProductsContainer",children:s.catalogData.searchData.length>0?e.map((l,a)=>r("div",{className:"catalogProduct",children:r(S,{product_object:l})},a)):r("p",{children:"NO PRODUCTS WERE FOUND"})})}):r("p",{children:"damn"})}function F(s){const e=s.catalogData,l=s.setCatalogData,a=()=>{e.catalogPage>1&&(l({...e,catalogPage:e.catalogPage-1}),document.documentElement.scrollTop=0)},c=()=>{e.catalogPage<e.searchData.length&&(l({...e,catalogPage:e.catalogPage+1}),document.documentElement.scrollTop=0)},o=t=>{t.target.textContent!=e.catalogPage&&(l({...e,catalogPage:Number(t.target.textContent)}),document.documentElement.scrollTop=0)};for(let t=0;t<document.querySelectorAll(".numberedBtns").length;t++)document.querySelectorAll(".numberedBtns")[t].textContent==e.catalogPage?document.querySelectorAll(".numberedBtns")[t].classList.add("deactivateNumberedBtn"):document.querySelectorAll(".numberedBtns")[t].classList.remove("deactivateNumberedBtn");return g("div",{className:"catalogPagesNavigatorContainer",children:[r("button",{onClick:a,className:`movingBtns ${e.catalogPage===1?"deactivateMovingBtn":""}`,children:"<"}),r("button",{onClick:o,className:"numberedBtns",children:1}),e.searchData.length<4?e.searchData.map((t,n)=>{if(!(n===0||e.searchData.length===1))return r("button",{onClick:o,className:"numberedBtns",children:n+1},n)}):e.searchData.map((t,n)=>{if(!(e.searchData.length===1||n===e.searchData.length-1))return r("button",{onClick:o,className:"numberedBtns",children:n+2},n)}),r("button",{onClick:c,className:`movingBtns ${e.catalogPage===e.searchData.length?"deactivateMovingBtn":""}`,children:">"})]})}const A="/online-shop/assets/filterIcon-2a7d15cc.png";function E(s){const e=s.filtersBtn.current,l=u.useRef(null),[a,c]=u.useState(!1);return e&&(e.onclick=()=>{c(!a)}),u.useEffect(()=>{a?(l.current.classList.add("active"),document.body.style.overflow="hidden"):(l.current.classList.remove("active"),document.body.style.overflow="auto")},[a]),g("div",{className:"catalogFilters",ref:l,children:[r("div",{className:"catalogFiltersShadow",onClick:()=>{c(!1)}}),g("div",{className:"catalogFilterHeader",children:[r("p",{children:"Filter"}),g("button",{onClick:()=>{c(!1)},children:[r("div",{}),r("div",{})]})]})]})}const L=["All Categories","Shirts","Dresses","Jeans","Sportswear","Coats","Tops","Hoodies","Leggings","Trousers"];let d=null;const y=(s,e)=>{for(var l=0;l<e.length;l++)if(e[l].textContent==s)return e[l];return"nothing"};function w(s){const e=s.catalogData,l=p(),a=b(),c=Object.fromEntries(new URLSearchParams(a.search));let o,t;const n=u.useRef(null),f=i=>{d!==i.target&&(t=i.target.textContent==="All Categories"?"*":i.target.textContent,o={category:t},d!==null&&d.classList.remove("selectedCategoryBtn"),i.target.classList.add("selectedCategoryBtn"),d=i.target,l(o,!0))};return u.useEffect(()=>{d=document.querySelector(".selectedCategoryBtn")},[]),u.useEffect(()=>{const i=document.querySelector(".catalogCategories").childNodes;c.category?d=y(c.category!=="*"?c.category:"All Categories",i):d=y("All Categories",i)},[c]),g("div",{className:"catalogHeader",children:[g("div",{className:"catalogCategoryName",children:[g("p",{children:["Women ",e.filters.category==="*"?"Clothing":e.filters.category]}),e.filters.name?g("p",{className:"catalogHeaderSearchValue",children:["Search result for: ",e.filters.name]}):""]}),r("div",{className:"catalogCategories",children:L.map((i,C)=>C===0&&!c.category?r("button",{className:"selectedCategoryBtn",onClick:f,children:i},C):i===c.category?r("button",{className:"selectedCategoryBtn",onClick:f,children:i},C):r("button",{onClick:f,children:i},C))}),g("div",{className:"catalogFilterAndAmountContainer",children:[r("div",{className:"catalogProductAmount",children:g("p",{children:[e.rawSearchData.length," Products"]})}),g("button",{className:"catalogFilter",ref:n,children:[r("img",{src:A}),"Filter"]})]}),r(E,{filtersBtn:n})]})}const P=["name","category","price","color","size"];function v(s){let e;const l=[];if(s.length>10){e=Math.ceil(s.length/10);for(let a=0;a<e;a++){let c=[],o=a===0?1:a+1,t=a*10;for(t;t<=o*10&&!(t>=o*10||t+1>s.length);t++)c.push(s[t]);l.push(c)}}else{let a=[],c=1;for(let o=0;o<=c*10&&!(o>=c*10||o+1>s.length);o++)a.push(s[o]);l.push(a)}return l}function j(){const s=D(),e=B(),l=b(),[a,c]=u.useState({filters:{name:e.searchValue,category:"*"},rawSearchData:h({name:e.searchValue,category:"*"},m),searchData:v(h({name:e.searchValue,category:"*"},m)),catalogPage:1});return u.useEffect(()=>{const o=Object.fromEntries(new URLSearchParams(l.search)),t={};for(const n in o)for(const f in P)if(n===P[f]){t[n]=o[n];break}Object.keys(t).length!==0?c({...a,filters:{...a.filters,...t},rawSearchData:h({...a.filters,...t},m),searchData:v(h({...a.filters,...t},m)),catalogPage:1}):(c({filters:{name:o.searchValue,category:"*"},rawSearchData:h({name:o.searchValue,category:"*"},m),searchData:v(h({name:o.searchValue,category:"*"},m)),catalogPage:1}),s("/catalog"))},[l.search]),r(N,{children:g("div",{className:"websiteContent",children:[r(w,{catalogData:a,setCatalogData:c,searchValue:e.searchValue}),r(k,{catalogData:a,setCatalogData:c,searchValue:e.searchValue}),r(F,{catalogData:a,setCatalogData:c})]})})}export{j as default};
