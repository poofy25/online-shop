import{a as t,F as b,j as u,r as g,g as A,h as S,u as E,f as T}from"./index-6c5703db.js";import{s as N,J as F}from"./filter-d07eb3c7.js";import{P as H}from"./Product-b7f351aa.js";function x(n){const e=n.catalogData.searchData[n.catalogData.catalogPage-1];return e?t(b,{children:t("div",{className:"catalogProductsContainer",children:n.catalogData.searchData.length>0?e.map((c,i)=>t("div",{className:"catalogProduct",children:t(H,{product_object:c})},i)):t("p",{children:"NO PRODUCTS WERE FOUND"})})}):t("p",{children:"damn"})}function q(n){const e=n.catalogData,c=n.setCatalogData,i=()=>{e.catalogPage>1&&(c({...e,catalogPage:e.catalogPage-1}),document.documentElement.scrollTop=0)},s=()=>{e.catalogPage<e.searchData.length&&(c({...e,catalogPage:e.catalogPage+1}),document.documentElement.scrollTop=0)},a=l=>{l.target.textContent!=e.catalogPage&&(c({...e,catalogPage:Number(l.target.textContent)}),document.documentElement.scrollTop=0)};for(let l=0;l<document.querySelectorAll(".numberedBtns").length;l++)document.querySelectorAll(".numberedBtns")[l].textContent==e.catalogPage?document.querySelectorAll(".numberedBtns")[l].classList.add("deactivateNumberedBtn"):document.querySelectorAll(".numberedBtns")[l].classList.remove("deactivateNumberedBtn");return u("div",{className:"catalogPagesNavigatorContainer",children:[t("button",{onClick:i,className:`movingBtns ${e.catalogPage===1?"deactivateMovingBtn":""}`,children:"<"}),t("button",{onClick:a,className:"numberedBtns",children:1}),e.searchData.length<4?e.searchData.map((l,r)=>{if(!(r===0||e.searchData.length===1))return t("button",{onClick:a,className:"numberedBtns",children:r+1},r)}):e.searchData.map((l,r)=>{if(!(e.searchData.length===1||r===e.searchData.length-1))return t("button",{onClick:a,className:"numberedBtns",children:r+2},r)}),t("button",{onClick:s,className:`movingBtns ${e.catalogPage===e.searchData.length?"deactivateMovingBtn":""}`,children:">"})]})}const I="/online-shop/assets/filterIcon-2a7d15cc.png";function V(n){const e=n.option,c=n.data;return t("div",{className:"catalogFilterBtn",onClick:()=>{n.setOptionSelected({name:e.name,element:e.element,data:e==null?void 0:e.data})},children:u("div",{className:"catalogFilterBtnContainer",children:[u("div",{className:"catalogFilterBtnContainerWrapper",children:[t("p",{children:e==null?void 0:e.name}),u("button",{className:"filterArrowBtn",children:[t("div",{}),t("div",{})]})]}),c[e.name.toLowerCase()]&&t("div",{className:"selectedDataContainer",children:c[e.name.toLowerCase()].toString().replaceAll(","," , ")})]})})}function L(n){return t("div",{className:"viewItemsContainer",children:t("button",{onClick:()=>{n.closeFilterMenu(!1)},children:"VIEW ITEMS"})})}function $(n){const e=n.filters,c=n.setFilters,i=n.data,s=(a,l)=>{e.color?e.color.indexOf(l)===-1?(a.currentTarget.classList.add("selected"),c(r=>({...r,color:[l,...r.color]}))):(a.currentTarget.classList.remove("selected"),c(r=>{if(r.color.filter(o=>o!==l).length===0){const{color:o,...d}=r;return d}return{...r,color:r.color.filter(o=>o!==l)}})):(a.currentTarget.classList.add("selected"),c(r=>({...r,color:[l]})))};return t("div",{className:"filterOptionContaianer",children:i.map((a,l)=>{var o;let r=!1;return((o=e==null?void 0:e.color)==null?void 0:o.indexOf(a.name))!==-1&&e.color&&(r=!0),t("div",{className:`filterOptionBtn ${r&&"selected"} `,onClick:d=>{s(d,a.name)},children:u("div",{className:"filterOptionBtnContainer",children:[t("div",{style:{backgroundColor:a.value},className:"colorDiv"}),t("p",{children:a.name}),t("div",{className:"check"})]})},l)})})}function z(n){const e=n.filters,c=n.setFilters,i=n.data,s=(a,l)=>{e.category?e.category.indexOf(l)===-1?(a.currentTarget.classList.add("selected"),c(r=>({...r,category:[l,...r.category]}))):(a.currentTarget.classList.remove("selected"),c(r=>{if(r.category.filter(o=>o!==l).length===0){const{category:o,...d}=r;return d}return{...r,category:r.category.filter(o=>o!==l)}})):(a.currentTarget.classList.add("selected"),c(r=>({...r,category:[l]})))};return t("div",{className:"filterOptionContaianer",children:i.map((a,l)=>{var o;let r=!1;return((o=e==null?void 0:e.category)==null?void 0:o.indexOf(a.name))!==-1&&e.category&&(r=!0),t("div",{className:`filterOptionBtn ${r&&"selected"} `,onClick:d=>{s(d,a.name)},children:u("div",{className:"filterOptionBtnContainer",children:[t("p",{children:a.name}),t("div",{className:"check"})]})},l)})})}function R(n){var o,d;const e=n.filters,c=n.setFilters,i=g.useRef(null),[s,a]=g.useState(e.price?{dir:e.price.dir,amount:e.price.amount}:{dir:"over",amount:"5"}),l=(m,f)=>{e.sale?(m.currentTarget.classList.remove("selected"),c(h=>{const{sale:p,...v}=h;return v})):(m.currentTarget.classList.add("selected"),c(h=>({...h,sale:!0})))},r=(m,f)=>{document.querySelector(".priceBtn.active").classList.remove("active"),m.currentTarget.classList.add("active"),a({...s,dir:f})};return g.useEffect(()=>{(s.amount!=="5"||s.dir!=="over")&&(i.current.textContent=`${s.amount}$`,c(m=>({...m,price:s})))},[s]),g.useEffect(()=>{document.getElementById("priceInput").value=e!=null&&e.price?e==null?void 0:e.price.amount:"5"},[]),u("div",{className:"filterOptionContaianer",children:[t("div",{className:`filterOptionBtn ${(e==null?void 0:e.sale)!==!1&&e.sale&&"selected"} `,onClick:m=>{l(m,e.sale)},children:u("div",{className:"filterOptionBtnContainer",children:[t("p",{children:"Sale"}),t("div",{className:"check"})]})}),t("div",{className:"filterOptionBtn",children:u("div",{className:"filterOptionBtnContainer price",children:[u("div",{className:"priceWrapper",children:[t("button",{className:`priceBtn ${e!=null&&e.price?((o=e==null?void 0:e.price)==null?void 0:o.dir)==="over"&&"active":"active"}`,onClick:m=>{r(m,"over")},children:"Over"}),u("p",{ref:i,children:[e!=null&&e.price?e==null?void 0:e.price.amount:s.amount,"$"]}),t("button",{className:`priceBtn ${((d=e==null?void 0:e.price)==null?void 0:d.dir)==="under"&&"active"}`,onClick:m=>{r(m,"under")},children:"Under"})]}),u("div",{className:"inputWrapper",children:[t("input",{type:"range",id:"priceInput",min:"5",max:"250",step:"5",list:"tickmarks",onChange:()=>{a(m=>({...m,amount:document.getElementById("priceInput").value}))}}),u("datalist",{id:"tickmarks",children:[t("option",{value:"5",label:"5$"}),t("option",{value:"250",label:"250$"})]})]})]})})]})}function M(n){const e=n.filters,c=n.setFilters,i=n.data,s=(a,l)=>{e.size?e.size.indexOf(l)===-1?(a.currentTarget.classList.add("selected"),c(r=>({...r,size:[l,...r.size]}))):(a.currentTarget.classList.remove("selected"),c(r=>{if(r.size.filter(o=>o!==l).length===0){const{size:o,...d}=r;return d}return{...r,size:r.size.filter(o=>o!==l)}})):(a.currentTarget.classList.add("selected"),c(r=>({...r,size:[l]})))};return t("div",{className:"filterOptionContaianer",children:i.map((a,l)=>{var o;let r=!1;return((o=e==null?void 0:e.size)==null?void 0:o.indexOf(a.name))!==-1&&e.size&&(r=!0),t("div",{className:`filterOptionBtn ${r&&"selected"} `,onClick:d=>{s(d,a.name)},children:u("div",{className:"filterOptionBtnContainer",children:[t("p",{children:a.name}),t("div",{className:"check"})]})},l)})})}const j=[{name:"Red",value:"rgb(255,0,0)"},{name:"Brown",value:"rgb(165, 42, 42)"},{name:"Khaki",value:"rgb(240, 230, 140)"},{name:"Yellow",value:"rgb(255,255,0)"},{name:"Olive",value:"rgb(128,128,0)"},{name:"Green",value:"rgb(0,255,0)"},{name:"Light blue",value:"rgb(173, 216, 230)"},{name:"Blue",value:"rgb(0, 0, 255)"},{name:"Navy",value:"rgb(0, 0, 128)"},{name:"Purple",value:"rgb(128, 0, 128)"},{name:"Pink",value:"rgb(255, 192, 203)"},{name:"Black",value:"rgb(0,0,0)"},{name:"Gray",value:"rgb(128, 128, 128)"},{name:"Beige",value:"rgb(245, 245, 220)"},{name:"White",value:"rgb(255,255,255)"}],U=[{name:"Shirts"},{name:"Dresses"},{name:"Jeans"},{name:"Sportswear"},{name:"Coats"},{name:"Tops"},{name:"Hoodies"},{name:"Leggings"},{name:"Trousers"}],W=[{name:"XXS"},{name:"XS"},{name:"S"},{name:"M"},{name:"L"},{name:"XL"},{name:"XXL"}];let X=[{name:"Category",element:t(z,{}),data:U},{name:"Color",element:t($,{}),data:j},{name:"Size",element:t(M,{}),data:W},{name:"Price",element:t(R,{})}];function J(n){var d,m;const e=n.filtersBtn.current,c=g.useRef(null),[i,s]=g.useState(!1),[a,l]=g.useState(null),[r,o]=g.useState({});return e&&(e.onclick=()=>{s(!i)}),g.useEffect(()=>{console.log(r)},[r]),g.useEffect(()=>{i?(c.current.classList.add("on"),document.body.style.overflow="hidden",l(null)):(c.current.classList.remove("on"),document.body.style.overflow="auto",console.log(new URLSearchParams(r).toString()))},[i]),g.useEffect(()=>{a!==null&&(document.querySelector(".catalogFiltersSecond").classList.add("Active"),document.querySelector(".catalogFiltersFirst").classList.remove("Active")),a===null&&(document.querySelector(".catalogFiltersSecond").classList.remove("Active"),document.querySelector(".catalogFiltersFirst").classList.add("Active"))},[a]),u("div",{className:"catalogFilterMenu",ref:c,children:[u("div",{className:"catalogFiltersContainer",children:[u("div",{className:"catalogFiltersFirst",children:[t("div",{className:"catalogFilterHeader",children:t("p",{children:"FILTER"})}),t("div",{className:"catalogFilterOptions",children:X.map((f,h)=>t(V,{option:{...f},setOptionSelected:l,data:r},h))}),t(L,{closeFilterMenu:s})]}),u("div",{className:"catalogFiltersSecond",children:[u("div",{className:"catalogFilterHeader",children:[u("button",{onClick:()=>{document.querySelector(".catalogFiltersSecond").classList.remove("Active"),document.querySelector(".catalogFiltersFirst").classList.add("Active"),setTimeout(()=>{l(null)},500)},children:[t("div",{}),t("div",{})]}),t("p",{onClick:()=>{document.querySelector(".catalogFiltersSecond").classList.remove("Active"),document.querySelector(".catalogFiltersFirst").classList.add("Active"),setTimeout(()=>{l(null)},500)},children:(d=a==null?void 0:a.name)==null?void 0:d.toUpperCase()}),(a==null?void 0:a.name)!=="Price"&&t("button",{className:"selectionBtn",onClick:()=>{var f,h,p;if(r[(f=a==null?void 0:a.name)==null?void 0:f.toLowerCase()]){console.log("damn");const v={...r};delete v[(h=a==null?void 0:a.name)==null?void 0:h.toLowerCase()],o(v)}else{const v={...r},O=D=>{const B=[];return D.forEach(w=>{B.push(w.name)}),B};v[(p=a==null?void 0:a.name)==null?void 0:p.toLowerCase()]=O(a==null?void 0:a.data),console.log(v),o(v)}},children:r[(m=a==null?void 0:a.name)==null?void 0:m.toLowerCase()]?t("p",{children:"CLEAR"}):u(b,{children:[t("p",{children:"ALL"}),"  ",t("div",{className:"selectionBtnCheck"})]})})]}),t("div",{className:"catalogFilterOptions",children:(a==null?void 0:a.element)&&g.cloneElement(a==null?void 0:a.element,{setFilters:o,filters:r,data:a==null?void 0:a.data})}),t(L,{closeFilterMenu:s})]})]}),t("div",{className:"catalogFiltersShadow",onClick:()=>{s(!1)}})]})}const G=["All Categories","Shirts","Dresses","Jeans","Sportswear","Coats","Tops","Hoodies","Leggings","Trousers"];let C=null;const k=(n,e)=>{for(var c=0;c<e.length;c++)if(e[c].textContent==n)return e[c];return"nothing"};function K(n){const e=n.catalogData,c=A(),i=S(),s=Object.fromEntries(new URLSearchParams(i.search));let a,l;const r=g.useRef(null),o=d=>{C!==d.target&&(l=d.target.textContent==="All Categories"?"*":d.target.textContent,a={category:l},C!==null&&C.classList.remove("selectedCategoryBtn"),d.target.classList.add("selectedCategoryBtn"),C=d.target,c(a,!0))};return g.useEffect(()=>{C=document.querySelector(".selectedCategoryBtn")},[]),g.useEffect(()=>{const d=document.querySelector(".catalogCategories").childNodes;s.category?C=k(s.category!=="*"?s.category:"All Categories",d):C=k("All Categories",d)},[s]),u("div",{className:"catalogHeader",children:[u("div",{className:"catalogCategoryName",children:[u("p",{children:["Women ",e.filters.category==="*"?"Clothing":e.filters.category]}),e.filters.name?u("p",{className:"catalogHeaderSearchValue",children:["Search result for: ",e.filters.name]}):""]}),t("div",{className:"catalogCategories",children:G.map((d,m)=>m===0&&!s.category?t("button",{className:"selectedCategoryBtn",onClick:o,children:d},m):d===s.category?t("button",{className:"selectedCategoryBtn",onClick:o,children:d},m):t("button",{onClick:o,children:d},m))}),u("div",{className:"catalogFilterAndAmountContainer",children:[t("div",{className:"catalogProductAmount",children:u("p",{children:[e.rawSearchData.length," Products"]})}),u("button",{className:"catalogFilter",ref:r,children:[t("img",{src:I}),"Filter"]})]}),t(J,{filtersBtn:r})]})}const P=["name","category","price","color","size"];function y(n){let e;const c=[];if(n.length>10){e=Math.ceil(n.length/10);for(let i=0;i<e;i++){let s=[],a=i===0?1:i+1,l=i*10;for(l;l<=a*10&&!(l>=a*10||l+1>n.length);l++)s.push(n[l]);c.push(s)}}else{let i=[],s=1;for(let a=0;a<=s*10&&!(a>=s*10||a+1>n.length);a++)i.push(n[a]);c.push(i)}return c}function Z(){const n=E(),e=T(),c=S(),[i,s]=g.useState({filters:{name:e.searchValue,category:"*"},rawSearchData:N({name:e.searchValue,category:"*"},F),searchData:y(N({name:e.searchValue,category:"*"},F)),catalogPage:1});return g.useEffect(()=>{const a=Object.fromEntries(new URLSearchParams(c.search)),l={};for(const r in a)for(const o in P)if(r===P[o]){l[r]=a[r];break}Object.keys(l).length!==0?s({...i,filters:{...i.filters,...l},rawSearchData:N({...i.filters,...l},F),searchData:y(N({...i.filters,...l},F)),catalogPage:1}):(s({filters:{name:a.searchValue,category:"*"},rawSearchData:N({name:a.searchValue,category:"*"},F),searchData:y(N({name:a.searchValue,category:"*"},F)),catalogPage:1}),n("/catalog"))},[c.search]),t(b,{children:u("div",{className:"websiteContent",children:[t(K,{catalogData:i,setCatalogData:s,searchValue:e.searchValue}),t(x,{catalogData:i,setCatalogData:s,searchValue:e.searchValue}),t(q,{catalogData:i,setCatalogData:s})]})})}export{Z as default};
