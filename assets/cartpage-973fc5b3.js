import{r as s,C as S,u as h,a as r,j as t,F as l}from"./index-fb413fb8.js";const p="/online-shop/assets/emptyCartImage-e50ae3ed.png";function P(){s.useContext(S);const e=h();return r("div",{className:"emptyCartContainer",children:[t("img",{src:p}),t("p",{className:"emptyCartText",children:"You have no items in cart."}),t("p",{children:"Dilvin has many articles that are waiting for you!"}),t("button",{onClick:()=>{e("/")},className:"goShoppingBtn",children:"Go Shopping"})]})}function C(e){const[c,n]=s.useState(JSON.parse(localStorage.cartProducts)[e.productIndex].amount),[a,d]=s.useState(JSON.parse(localStorage.cartProducts)[e.productIndex]),u=()=>{n(o=>o+1)},i=()=>{c>0&&n(o=>o-1)};return s.useEffect(()=>{d(o=>({...o,amount:c}))},[c]),s.useEffect(()=>{let o=JSON.parse(localStorage.getItem("cartProducts"));if(o[e.productIndex]=a,localStorage.setItem("cartProducts",JSON.stringify(o)),c===0&&a.amount===0){const m=JSON.parse(localStorage.getItem("cartProducts")).filter(g=>g.uniqueID!==a.uniqueID);e.updateLS(!e.LSData),localStorage.setItem("cartProducts",JSON.stringify(m)),e.updateLS(!e.LSData),console.log("Deleted product :",a)}},[a]),c===0&&a.amount===0?t("p",{children:"Deleted product"}):r("div",{className:"productCartContainer",children:[t("img",{src:e.cartProductData.image}),r("div",{className:"cartProductDetails",children:[t("p",{className:"cartProductName",children:e.cartProductData.name}),r("p",{className:"cartProductPrice",children:["$",e.cartProductData.price]}),r("span",{children:[r("span",{className:"cartProductSize",children:[t("p",{children:"Size: "}),t("p",{children:e.cartProductData.size})]}),r("span",{className:"cartProductColor",children:[t("p",{children:"Color: "}),t("p",{children:e.cartProductData.color})]})]}),r("div",{className:"productCountContainer",children:[t("button",{onClick:i,children:"-"}),t("div",{className:"productAmmount",children:c}),t("button",{onClick:u,children:"+"})]}),e.productIndex]})]})}function f(){const[e,c]=s.useState(!0);return console.log(e),console.log(JSON.parse(localStorage.getItem("cartProducts"))),JSON.parse(localStorage.getItem("cartProducts"))===null||JSON.parse(localStorage.getItem("cartProducts")).length===0?t(l,{children:t("div",{className:"websiteContent",children:t(P,{})})}):t(l,{children:t("div",{className:"websiteContent",children:JSON.parse(localStorage.getItem("cartProducts")).map((n,a)=>(console.log(n,a),r(l,{children:[r("p",{children:["Product Name: ",n.name]},a+"key"),t(C,{cartProductData:n,productIndex:a,updateLS:c,LSData:e},a)]})))})})}export{f as default};
