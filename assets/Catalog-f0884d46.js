import{a as r,F as b,j as g,r as u,g as A,h as p,u as T,f as E}from"./index-a72b43f8.js";import{s as v,J as C}from"./filter-d07eb3c7.js";import{P as H}from"./Product-56532c0a.js";function q(n){const a=n.catalogData.searchData[n.catalogData.catalogPage-1];return a?r(b,{children:r("div",{className:"catalogProductsContainer",children:n.catalogData.searchData.length>0?a.map((c,s)=>r("div",{className:"catalogProduct",children:r(H,{product_object:c})},s)):r("p",{children:"NO PRODUCTS WERE FOUND"})})}):r("p",{children:"damn"})}function x(n){const a=n.catalogData,c=n.setCatalogData,s=()=>{a.catalogPage>1&&(c({...a,catalogPage:a.catalogPage-1}),document.documentElement.scrollTop=0)},i=()=>{a.catalogPage<a.searchData.length&&(c({...a,catalogPage:a.catalogPage+1}),document.documentElement.scrollTop=0)},e=l=>{l.target.textContent!=a.catalogPage&&(c({...a,catalogPage:Number(l.target.textContent)}),document.documentElement.scrollTop=0)};for(let l=0;l<document.querySelectorAll(".numberedBtns").length;l++)document.querySelectorAll(".numberedBtns")[l].textContent==a.catalogPage?document.querySelectorAll(".numberedBtns")[l].classList.add("deactivateNumberedBtn"):document.querySelectorAll(".numberedBtns")[l].classList.remove("deactivateNumberedBtn");return g("div",{className:"catalogPagesNavigatorContainer",children:[r("button",{onClick:s,className:`movingBtns ${a.catalogPage===1?"deactivateMovingBtn":""}`,children:"<"}),r("button",{onClick:e,className:"numberedBtns",children:1}),a.searchData.length<4?a.searchData.map((l,t)=>{if(!(t===0||a.searchData.length===1))return r("button",{onClick:e,className:"numberedBtns",children:t+1},t)}):a.searchData.map((l,t)=>{if(!(a.searchData.length===1||t===a.searchData.length-1))return r("button",{onClick:e,className:"numberedBtns",children:t+2},t)}),r("button",{onClick:i,className:`movingBtns ${a.catalogPage===a.searchData.length?"deactivateMovingBtn":""}`,children:">"})]})}const V="/online-shop/assets/filterIcon-2a7d15cc.png";function z(n){const a=n.option,c=n.data;return console.log(c[a.name.toLowerCase()]),r("div",{className:"catalogFilterBtn",onClick:()=>{n.setOptionSelected({name:a.name,element:a.element,data:a==null?void 0:a.data})},children:g("div",{className:"catalogFilterBtnContainer",children:[g("div",{className:"catalogFilterBtnContainerWrapper",children:[r("p",{children:a==null?void 0:a.name}),g("button",{className:"filterArrowBtn",children:[r("div",{}),r("div",{})]})]}),c[a.name.toLowerCase()]&&r("div",{className:"selectedDataContainer",children:c[a.name.toLowerCase()].toString().replaceAll(","," , ")})]})})}function P(n){return r("div",{className:"viewItemsContainer",children:r("button",{onClick:()=>{n.closeFilterMenu(!1)},children:"VIEW ITEMS"})})}function I(n){const a=n.filters,c=n.setFilters,s=n.data;console.log("rerender");const i=(e,l)=>{a.color?a.color.indexOf(l)===-1?(e.currentTarget.classList.add("selected"),c(t=>({...t,color:[l,...t.color]}))):(e.currentTarget.classList.remove("selected"),c(t=>{if(t.color.filter(o=>o!==l).length===0){const{color:o,...d}=t;return d}return{...t,color:t.color.filter(o=>o!==l)}})):(e.currentTarget.classList.add("selected"),c(t=>({...t,color:[l]})))};return r("div",{className:"filterOptionContaianer",children:s.map((e,l)=>{var o;let t=!1;return((o=a==null?void 0:a.color)==null?void 0:o.indexOf(e.name))!==-1&&a.color&&(t=!0),r("div",{className:`filterOptionBtn ${t&&"selected"} `,onClick:d=>{i(d,e.name)},children:g("div",{className:"filterOptionBtnContainer",children:[r("div",{style:{backgroundColor:e.value},className:"colorDiv"}),r("p",{children:e.name}),r("div",{class:"check"})]})},l)})})}function M(n){const a=n.filters,c=n.setFilters,s=n.data;console.log("rerender");const i=(e,l)=>{a.category?a.category.indexOf(l)===-1?(e.currentTarget.classList.add("selected"),c(t=>({...t,category:[l,...t.category]}))):(e.currentTarget.classList.remove("selected"),c(t=>{if(t.category.filter(o=>o!==l).length===0){const{category:o,...d}=t;return d}return{...t,category:t.category.filter(o=>o!==l)}})):(e.currentTarget.classList.add("selected"),c(t=>({...t,category:[l]})))};return r("div",{className:"filterOptionContaianer",children:s.map((e,l)=>{var o;let t=!1;return((o=a==null?void 0:a.category)==null?void 0:o.indexOf(e.name))!==-1&&a.category&&(t=!0),r("div",{className:`filterOptionBtn ${t&&"selected"} `,onClick:d=>{i(d,e.name)},children:g("div",{className:"filterOptionBtnContainer",children:[r("p",{children:e.name}),r("div",{class:"check"})]})},l)})})}function R(n){return r("div",{className:"filterOptionContaianer",children:"Price"})}function j(n){const a=n.filters,c=n.setFilters,s=n.data;console.log("rerender");const i=(e,l)=>{a.size?a.size.indexOf(l)===-1?(e.currentTarget.classList.add("selected"),c(t=>({...t,size:[l,...t.size]}))):(e.currentTarget.classList.remove("selected"),c(t=>{if(t.size.filter(o=>o!==l).length===0){const{size:o,...d}=t;return d}return{...t,size:t.size.filter(o=>o!==l)}})):(e.currentTarget.classList.add("selected"),c(t=>({...t,size:[l]})))};return r("div",{className:"filterOptionContaianer",children:s.map((e,l)=>{var o;let t=!1;return((o=a==null?void 0:a.size)==null?void 0:o.indexOf(e.name))!==-1&&a.size&&(t=!0),r("div",{className:`filterOptionBtn ${t&&"selected"} `,onClick:d=>{i(d,e.name)},children:g("div",{className:"filterOptionBtnContainer",children:[r("p",{children:e.name}),r("div",{class:"check"})]})},l)})})}const X=[{name:"Red",value:"rgb(255,0,0)"},{name:"Brown",value:"rgb(165, 42, 42)"},{name:"Khaki",value:"rgb(240, 230, 140)"},{name:"Yellow",value:"rgb(255,255,0)"},{name:"Olive",value:"rgb(128,128,0)"},{name:"Green",value:"rgb(0,255,0)"},{name:"Light blue",value:"rgb(173, 216, 230)"},{name:"Blue",value:"rgb(0, 0, 255)"},{name:"Navy",value:"rgb(0, 0, 128)"},{name:"Purple",value:"rgb(128, 0, 128)"},{name:"Pink",value:"rgb(255, 192, 203)"},{name:"Black",value:"rgb(0,0,0)"},{name:"Gray",value:"rgb(128, 128, 128)"},{name:"Beige",value:"rgb(245, 245, 220)"},{name:"White",value:"rgb(255,255,255)"}],U=[{name:"Shirts"},{name:"Dresses"},{name:"Jeans"},{name:"Sportswear"},{name:"Coats"},{name:"Tops"},{name:"Hoodies"},{name:"Leggings"},{name:"Trousers"}],W=[{name:"XXS"},{name:"XS"},{name:"S"},{name:"M"},{name:"L"},{name:"XL"},{name:"XXL"}];let $=[{name:"Category",element:r(M,{}),data:U},{name:"Color",element:r(I,{}),data:X},{name:"Size",element:r(j,{}),data:W},{name:"Price",element:r(R,{})}];function J(n){var d,m;const a=n.filtersBtn.current,c=u.useRef(null),[s,i]=u.useState(!1),[e,l]=u.useState(null),[t,o]=u.useState({});return a&&(a.onclick=()=>{i(!s)}),u.useEffect(()=>{console.log(t)},[t]),u.useEffect(()=>{s?(c.current.classList.add("on"),document.body.style.overflow="hidden",l(null)):(c.current.classList.remove("on"),document.body.style.overflow="auto")},[s]),u.useEffect(()=>{e!==null&&(document.querySelector(".catalogFiltersSecond").classList.add("Active"),document.querySelector(".catalogFiltersFirst").classList.remove("Active")),e===null&&(document.querySelector(".catalogFiltersSecond").classList.remove("Active"),document.querySelector(".catalogFiltersFirst").classList.add("Active"))},[e]),g("div",{className:"catalogFilterMenu",ref:c,children:[g("div",{className:"catalogFiltersContainer",children:[g("div",{className:"catalogFiltersFirst",children:[r("div",{className:"catalogFilterHeader",children:r("p",{children:"FILTER"})}),r("div",{className:"catalogFilterOptions",children:$.map((F,N)=>r(z,{option:{...F},setOptionSelected:l,data:t},N))}),r(P,{closeFilterMenu:i})]}),g("div",{className:"catalogFiltersSecond",children:[g("div",{className:"catalogFilterHeader",children:[g("button",{onClick:()=>{document.querySelector(".catalogFiltersSecond").classList.remove("Active"),document.querySelector(".catalogFiltersFirst").classList.add("Active"),setTimeout(()=>{l(null)},500)},children:[r("div",{}),r("div",{})]}),r("p",{onClick:()=>{document.querySelector(".catalogFiltersSecond").classList.remove("Active"),document.querySelector(".catalogFiltersFirst").classList.add("Active"),setTimeout(()=>{l(null)},500)},children:(d=e==null?void 0:e.name)==null?void 0:d.toUpperCase()}),(e==null?void 0:e.name)!=="Price"&&r("button",{className:"selectionBtn",onClick:()=>{var F,N,B;if(t[(F=e==null?void 0:e.name)==null?void 0:F.toLowerCase()]){console.log("damn");const f={...t};delete f[(N=e==null?void 0:e.name)==null?void 0:N.toLowerCase()],o(f)}else{const f={...t},D=O=>{const L=[];return O.forEach(w=>{L.push(w.name)}),L};f[(B=e==null?void 0:e.name)==null?void 0:B.toLowerCase()]=D(e==null?void 0:e.data),console.log(f),o(f)}},children:t[(m=e==null?void 0:e.name)==null?void 0:m.toLowerCase()]?r("p",{children:"CLEAR"}):g(b,{children:[r("p",{children:"ALL"}),"  ",r("div",{class:"selectionBtnCheck"})]})})]}),r("div",{className:"catalogFilterOptions",children:(e==null?void 0:e.element)&&u.cloneElement(e==null?void 0:e.element,{setFilters:o,filters:t,data:e==null?void 0:e.data})}),r(P,{closeFilterMenu:i})]})]}),r("div",{className:"catalogFiltersShadow",onClick:()=>{i(!1)}})]})}const G=["All Categories","Shirts","Dresses","Jeans","Sportswear","Coats","Tops","Hoodies","Leggings","Trousers"];let h=null;const k=(n,a)=>{for(var c=0;c<a.length;c++)if(a[c].textContent==n)return a[c];return"nothing"};function K(n){const a=n.catalogData,c=A(),s=p(),i=Object.fromEntries(new URLSearchParams(s.search));let e,l;const t=u.useRef(null),o=d=>{h!==d.target&&(l=d.target.textContent==="All Categories"?"*":d.target.textContent,e={category:l},h!==null&&h.classList.remove("selectedCategoryBtn"),d.target.classList.add("selectedCategoryBtn"),h=d.target,c(e,!0))};return u.useEffect(()=>{h=document.querySelector(".selectedCategoryBtn")},[]),u.useEffect(()=>{const d=document.querySelector(".catalogCategories").childNodes;i.category?h=k(i.category!=="*"?i.category:"All Categories",d):h=k("All Categories",d)},[i]),g("div",{className:"catalogHeader",children:[g("div",{className:"catalogCategoryName",children:[g("p",{children:["Women ",a.filters.category==="*"?"Clothing":a.filters.category]}),a.filters.name?g("p",{className:"catalogHeaderSearchValue",children:["Search result for: ",a.filters.name]}):""]}),r("div",{className:"catalogCategories",children:G.map((d,m)=>m===0&&!i.category?r("button",{className:"selectedCategoryBtn",onClick:o,children:d},m):d===i.category?r("button",{className:"selectedCategoryBtn",onClick:o,children:d},m):r("button",{onClick:o,children:d},m))}),g("div",{className:"catalogFilterAndAmountContainer",children:[r("div",{className:"catalogProductAmount",children:g("p",{children:[a.rawSearchData.length," Products"]})}),g("button",{className:"catalogFilter",ref:t,children:[r("img",{src:V}),"Filter"]})]}),r(J,{filtersBtn:t})]})}const S=["name","category","price","color","size"];function y(n){let a;const c=[];if(n.length>10){a=Math.ceil(n.length/10);for(let s=0;s<a;s++){let i=[],e=s===0?1:s+1,l=s*10;for(l;l<=e*10&&!(l>=e*10||l+1>n.length);l++)i.push(n[l]);c.push(i)}}else{let s=[],i=1;for(let e=0;e<=i*10&&!(e>=i*10||e+1>n.length);e++)s.push(n[e]);c.push(s)}return c}function Z(){const n=T(),a=E(),c=p(),[s,i]=u.useState({filters:{name:a.searchValue,category:"*"},rawSearchData:v({name:a.searchValue,category:"*"},C),searchData:y(v({name:a.searchValue,category:"*"},C)),catalogPage:1});return u.useEffect(()=>{const e=Object.fromEntries(new URLSearchParams(c.search)),l={};for(const t in e)for(const o in S)if(t===S[o]){l[t]=e[t];break}Object.keys(l).length!==0?i({...s,filters:{...s.filters,...l},rawSearchData:v({...s.filters,...l},C),searchData:y(v({...s.filters,...l},C)),catalogPage:1}):(i({filters:{name:e.searchValue,category:"*"},rawSearchData:v({name:e.searchValue,category:"*"},C),searchData:y(v({name:e.searchValue,category:"*"},C)),catalogPage:1}),n("/catalog"))},[c.search]),r(b,{children:g("div",{className:"websiteContent",children:[r(K,{catalogData:s,setCatalogData:i,searchValue:a.searchValue}),r(q,{catalogData:s,setCatalogData:i,searchValue:a.searchValue}),r(x,{catalogData:s,setCatalogData:i})]})})}export{Z as default};
