import{a as t,F as p,j as u,r as i,g as S,h as P,u as B,f as F}from"./index-4fb7a0bd.js";import{s as h,J as f}from"./filter-d07eb3c7.js";import{P as b}from"./Product-8d5a7eac.js";function D(a){const e=a.catalogData.searchData[a.catalogData.catalogPage-1];return e?t(p,{children:t("div",{className:"catalogProductsContainer",children:a.catalogData.searchData.length>0?e.map((o,r)=>t("div",{className:"catalogProduct",children:t(b,{product_object:o})},r)):t("p",{children:"NO PRODUCTS WERE FOUND"})})}):t("p",{children:"damn"})}function L(a){const e=a.catalogData,o=a.setCatalogData,r=()=>{e.catalogPage>1&&(o({...e,catalogPage:e.catalogPage-1}),document.documentElement.scrollTop=0)},c=()=>{e.catalogPage<e.searchData.length&&(o({...e,catalogPage:e.catalogPage+1}),document.documentElement.scrollTop=0)},l=n=>{n.target.textContent!=e.catalogPage&&(o({...e,catalogPage:Number(n.target.textContent)}),document.documentElement.scrollTop=0)};for(let n=0;n<document.querySelectorAll(".numberedBtns").length;n++)document.querySelectorAll(".numberedBtns")[n].textContent==e.catalogPage?document.querySelectorAll(".numberedBtns")[n].classList.add("deactivateNumberedBtn"):document.querySelectorAll(".numberedBtns")[n].classList.remove("deactivateNumberedBtn");return u("div",{className:"catalogPagesNavigatorContainer",children:[t("button",{onClick:r,className:`movingBtns ${e.catalogPage===1?"deactivateMovingBtn":""}`,children:"<"}),t("button",{onClick:l,className:"numberedBtns",children:1}),e.searchData.length<4?e.searchData.map((n,s)=>{if(!(s===0||e.searchData.length===1))return t("button",{onClick:l,className:"numberedBtns",children:s+1},s)}):e.searchData.map((n,s)=>{if(!(e.searchData.length===1||s===e.searchData.length-1))return t("button",{onClick:l,className:"numberedBtns",children:s+2},s)}),t("button",{onClick:c,className:`movingBtns ${e.catalogPage===e.searchData.length?"deactivateMovingBtn":""}`,children:">"})]})}const k="/online-shop/assets/filterIcon-2a7d15cc.png";function O(a){return t("div",{className:"catalogFilterBtn",onClick:()=>{a.setOptionSelected({name:a.name,element:a.element})},children:u("div",{className:"catalogFilterBtnContainer",children:[t("p",{children:a==null?void 0:a.name}),u("button",{className:"filterArrowBtn",children:[t("div",{}),t("div",{})]})]})})}function E(a){return t("div",{className:"viewItemsContainer",children:t("button",{onClick:()=>{a.closeFilterMenu(!1)},children:"VIEW ITEMS"})})}function w(a){return i.useEffect(()=>{const e=document.querySelector(".filterOptionContaianer");return setTimeout(()=>{console.log("mounted"),e.classList.add("active")},10),()=>{console.log("unmounted"),e.classList.remove("active")}},[]),t("div",{className:"filterOptionContaianer",children:"COLORS"})}function A(a){return i.useEffect(()=>{const e=document.querySelector(".filterOptionContaianer");return setTimeout(()=>{console.log("mounted"),e.classList.add("active")},10),()=>{console.log("unmounted"),e.classList.remove("active")}},[]),t("div",{className:"filterOptionContaianer",children:"Brand"})}function T(a){return i.useEffect(()=>{const e=document.querySelector(".filterOptionContaianer");return setTimeout(()=>{console.log("mounted"),e.classList.add("active")},10),()=>{console.log("unmounted"),e.classList.remove("active")}},[]),t("div",{className:"filterOptionContaianer",children:"Category"})}function V(a){return i.useEffect(()=>{const e=document.querySelector(".filterOptionContaianer");return setTimeout(()=>{console.log("mounted"),e.classList.add("active")},10),()=>{console.log("unmounted"),e.classList.remove("active")}},[]),t("div",{className:"filterOptionContaianer",children:"Price"})}function q(a){return i.useEffect(()=>{const e=document.querySelector(".filterOptionContaianer");return setTimeout(()=>{console.log("mounted"),e.classList.add("active")},10),()=>{console.log("unmounted"),e.classList.remove("active")}},[]),t("div",{className:"filterOptionContaianer",children:"Size"})}const H=[{name:"Brand",element:t(A,{})},{name:"Category",element:t(T,{})},{name:"Color",element:t(w,{})},{name:"Size",element:t(q,{})},{name:"Price",element:t(V,{})}];function I(a){const e=a.filtersBtn.current,o=i.useRef(null),[r,c]=i.useState(!1),[l,n]=i.useState(null);return e&&(e.onclick=()=>{c(!r)}),i.useEffect(()=>{r?(o.current.classList.add("active"),document.body.style.overflow="hidden",n(null)):(o.current.classList.remove("active"),document.body.style.overflow="auto")},[r]),i.useEffect(()=>{console.log(l)},[l]),u("div",{className:"catalogFilters",ref:o,children:[t("div",{className:"catalogFiltersShadow",onClick:()=>{c(!1)}}),t("div",{className:"catalogFilterHeader",children:l!==null?u(p,{children:[u("button",{onClick:()=>n(null),children:[t("div",{}),t("div",{})]}),t("p",{onClick:()=>n(null),children:l.name.toUpperCase()})]}):t("p",{children:"FILTER"})}),l!==null?t("div",{className:"catalogFilterOptions",children:l.element}):t("div",{className:"catalogFilterOptions",children:H.map((s,d)=>t(O,{name:s.name,element:s.element,setOptionSelected:n},d))}),t(E,{closeFilterMenu:c})]})}const x=["All Categories","Shirts","Dresses","Jeans","Sportswear","Coats","Tops","Hoodies","Leggings","Trousers"];let m=null;const y=(a,e)=>{for(var o=0;o<e.length;o++)if(e[o].textContent==a)return e[o];return"nothing"};function R(a){const e=a.catalogData,o=S(),r=P(),c=Object.fromEntries(new URLSearchParams(r.search));let l,n;const s=i.useRef(null),d=g=>{m!==g.target&&(n=g.target.textContent==="All Categories"?"*":g.target.textContent,l={category:n},m!==null&&m.classList.remove("selectedCategoryBtn"),g.target.classList.add("selectedCategoryBtn"),m=g.target,o(l,!0))};return i.useEffect(()=>{m=document.querySelector(".selectedCategoryBtn")},[]),i.useEffect(()=>{const g=document.querySelector(".catalogCategories").childNodes;c.category?m=y(c.category!=="*"?c.category:"All Categories",g):m=y("All Categories",g)},[c]),u("div",{className:"catalogHeader",children:[u("div",{className:"catalogCategoryName",children:[u("p",{children:["Women ",e.filters.category==="*"?"Clothing":e.filters.category]}),e.filters.name?u("p",{className:"catalogHeaderSearchValue",children:["Search result for: ",e.filters.name]}):""]}),t("div",{className:"catalogCategories",children:x.map((g,C)=>C===0&&!c.category?t("button",{className:"selectedCategoryBtn",onClick:d,children:g},C):g===c.category?t("button",{className:"selectedCategoryBtn",onClick:d,children:g},C):t("button",{onClick:d,children:g},C))}),u("div",{className:"catalogFilterAndAmountContainer",children:[t("div",{className:"catalogProductAmount",children:u("p",{children:[e.rawSearchData.length," Products"]})}),u("button",{className:"catalogFilter",ref:s,children:[t("img",{src:k}),"Filter"]})]}),t(I,{filtersBtn:s})]})}const N=["name","category","price","color","size"];function v(a){let e;const o=[];if(a.length>10){e=Math.ceil(a.length/10);for(let r=0;r<e;r++){let c=[],l=r===0?1:r+1,n=r*10;for(n;n<=l*10&&!(n>=l*10||n+1>a.length);n++)c.push(a[n]);o.push(c)}}else{let r=[],c=1;for(let l=0;l<=c*10&&!(l>=c*10||l+1>a.length);l++)r.push(a[l]);o.push(r)}return o}function z(){const a=B(),e=F(),o=P(),[r,c]=i.useState({filters:{name:e.searchValue,category:"*"},rawSearchData:h({name:e.searchValue,category:"*"},f),searchData:v(h({name:e.searchValue,category:"*"},f)),catalogPage:1});return i.useEffect(()=>{const l=Object.fromEntries(new URLSearchParams(o.search)),n={};for(const s in l)for(const d in N)if(s===N[d]){n[s]=l[s];break}Object.keys(n).length!==0?c({...r,filters:{...r.filters,...n},rawSearchData:h({...r.filters,...n},f),searchData:v(h({...r.filters,...n},f)),catalogPage:1}):(c({filters:{name:l.searchValue,category:"*"},rawSearchData:h({name:l.searchValue,category:"*"},f),searchData:v(h({name:l.searchValue,category:"*"},f)),catalogPage:1}),a("/catalog"))},[o.search]),t(p,{children:u("div",{className:"websiteContent",children:[t(R,{catalogData:r,setCatalogData:c,searchValue:e.searchValue}),t(D,{catalogData:r,setCatalogData:c,searchValue:e.searchValue}),t(L,{catalogData:r,setCatalogData:c})]})})}export{z as default};
