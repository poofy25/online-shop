import{r as i,_ as m,u as h,j as l,a,b as _,c as d,F as I,Z as u,d as g,e as S,J as D,K as b}from"./index-2929b74e.js";const y=i.lazy(()=>m(()=>import("./signIn-b850b728.js"),["assets/signIn-b850b728.js","assets/index-2929b74e.js","assets/index-6a4e56a7.css","assets/googleIcon-f19c40cb.js","assets/signIn-d9dedaa9.css"])),C=i.lazy(()=>m(()=>import("./signUp-d8a54cc5.js"),["assets/signUp-d8a54cc5.js","assets/index-2929b74e.js","assets/index-6a4e56a7.css","assets/googleIcon-f19c40cb.js","assets/signUp-b169adec.css"])),E={signin:a(y,{}),signup:a(C,{})};function L(n){const s=h(),e=E[n.path],c=t=>{s(`/${t.target.attributes.container.value.toLowerCase()}`)};return l("div",{className:"loginMenu",children:[l("div",{className:"loginBtns",children:[a("button",{className:`${n.path=="signin"&&"activeBtn"}`,onClick:c,container:"SignIn",children:"SIGN IN"}),a("button",{className:`${n.path=="signup"&&"activeBtn"}`,onClick:c,container:"SignUp",children:"SIGN UP"})]}),a("div",{className:"loginMenuContent",children:e})]})}function w(n){const s=h(),[e]=_(d);return i.useEffect(()=>{e!==null&&s("/account")},[e]),i.useEffect(()=>d.onAuthStateChanged(t=>{if(t&&t.displayName!==localStorage.getItem("userName")){async function f(){const p=u(g,`users/${t.uid}`);async function v(){const r={uid:t.uid,name:t.displayName,email:t.email,updatedAt:S()};try{await D(p,r,{merge:!0}),console.log("Loged in and sent data to db",r)}catch(o){console.error("Error adding document: ",o)}}await v();async function N(){const o=(await b(u(g,`users/${t.uid}`))).data();o.cartItems!==void 0&&localStorage.setItem("cartProducts",JSON.stringify(o.cartItems))}N()}f()}}),[]),a(I,{children:a("div",{className:"websiteContent",children:a(L,{path:n.path})})})}export{w as default};
