import{a as t,F as b,j as i,r as d,g as B,h as P,u as k,f as D}from"./index-e8bcb003.js";import{s as h,J as m}from"./filter-d07eb3c7.js";import{P as F}from"./Product-a82c8fc6.js";function S(s){const e=s.catalogData.searchData[s.catalogData.catalogPage-1];return e?t(b,{children:t("div",{className:"catalogProductsContainer",children:s.catalogData.searchData.length>0?e.map((o,l)=>t("div",{className:"catalogProduct",children:t(F,{product_object:o})},l)):t("p",{children:"NO PRODUCTS WERE FOUND"})})}):t("p",{children:"damn"})}function L(s){const e=s.catalogData,o=s.setCatalogData,l=()=>{e.catalogPage>1&&(o({...e,catalogPage:e.catalogPage-1}),document.documentElement.scrollTop=0)},c=()=>{e.catalogPage<e.searchData.length&&(o({...e,catalogPage:e.catalogPage+1}),document.documentElement.scrollTop=0)},r=a=>{a.target.textContent!=e.catalogPage&&(o({...e,catalogPage:Number(a.target.textContent)}),document.documentElement.scrollTop=0)};for(let a=0;a<document.querySelectorAll(".numberedBtns").length;a++)document.querySelectorAll(".numberedBtns")[a].textContent==e.catalogPage?document.querySelectorAll(".numberedBtns")[a].classList.add("deactivateNumberedBtn"):document.querySelectorAll(".numberedBtns")[a].classList.remove("deactivateNumberedBtn");return i("div",{className:"catalogPagesNavigatorContainer",children:[t("button",{onClick:l,className:`movingBtns ${e.catalogPage===1?"deactivateMovingBtn":""}`,children:"<"}),t("button",{onClick:r,className:"numberedBtns",children:1}),e.searchData.length<4?e.searchData.map((a,n)=>{if(!(n===0||e.searchData.length===1))return t("button",{onClick:r,className:"numberedBtns",children:n+1},n)}):e.searchData.map((a,n)=>{if(!(e.searchData.length===1||n===e.searchData.length-1))return t("button",{onClick:r,className:"numberedBtns",children:n+2},n)}),t("button",{onClick:c,className:`movingBtns ${e.catalogPage===e.searchData.length?"deactivateMovingBtn":""}`,children:">"})]})}const E="/online-shop/assets/filterIcon-2a7d15cc.png";const w=["Red","Brown","Khaki","Yellow","Olive","Green","lightblue","Blue","Navy","Purple","Pink","Black","Gray","Beige","White"];function C(s){const[e,o]=d.useState([]),l=r=>{let a=r.target;a.classList.contains("active")?a.classList.remove("active"):a.classList.add("active")},c=r=>{e.indexOf(r.target.style.backgroundColor)===-1&&e.length<3?(r.target.classList.add("selectedColor"),o(a=>[...a,r.target.style.backgroundColor])):(r.target.classList.remove("selectedColor"),o(a=>a.filter(n=>n!==r.target.style.backgroundColor)))};return d.useEffect(()=>{console.log(e)},[e]),i("div",{className:"catalogFilterColor",children:[i("div",{className:"catalogFilterColorHeader",onClick:l,children:[t("p",{children:"Color"}),e.map((r,a)=>(console.log(r),t("button",{onClick:c,className:"filterColorBtn",children:t("div",{style:{backgroundColor:r,opacity:.85},children:r})},a))),i("button",{className:"filterArrowBtn",children:[t("div",{}),t("div",{})]})]}),t("div",{className:"catalogFilterColorContent",children:t("div",{className:"colorFilterContainer",children:w.map((r,a)=>t("button",{onClick:c,className:"filterColorBtn",children:t("div",{style:{backgroundColor:r,opacity:.85}})},a))})})]})}function A(s){const e=s.filtersBtn.current,o=d.useRef(null),[l,c]=d.useState(!1);return e&&(e.onclick=()=>{c(!l)}),d.useEffect(()=>{l?(o.current.classList.add("active"),document.body.style.overflow="hidden"):(o.current.classList.remove("active"),document.body.style.overflow="auto")},[l]),i("div",{className:"catalogFilters",ref:o,children:[t("div",{className:"catalogFiltersShadow",onClick:()=>{c(!1)}}),i("div",{className:"catalogFilterHeader",children:[t("p",{children:"Filter"}),i("button",{onClick:()=>{c(!1)},children:[t("div",{}),t("div",{})]})]}),i("div",{className:"catalogFilterOptions",children:[t(C,{}),t(C,{}),t(C,{}),t(C,{}),t(C,{})]})]})}const H=["All Categories","Shirts","Dresses","Jeans","Sportswear","Coats","Tops","Hoodies","Leggings","Trousers"];let u=null;const p=(s,e)=>{for(var o=0;o<e.length;o++)if(e[o].textContent==s)return e[o];return"nothing"};function O(s){const e=s.catalogData,o=B(),l=P(),c=Object.fromEntries(new URLSearchParams(l.search));let r,a;const n=d.useRef(null),f=g=>{u!==g.target&&(a=g.target.textContent==="All Categories"?"*":g.target.textContent,r={category:a},u!==null&&u.classList.remove("selectedCategoryBtn"),g.target.classList.add("selectedCategoryBtn"),u=g.target,o(r,!0))};return d.useEffect(()=>{u=document.querySelector(".selectedCategoryBtn")},[]),d.useEffect(()=>{const g=document.querySelector(".catalogCategories").childNodes;c.category?u=p(c.category!=="*"?c.category:"All Categories",g):u=p("All Categories",g)},[c]),i("div",{className:"catalogHeader",children:[i("div",{className:"catalogCategoryName",children:[i("p",{children:["Women ",e.filters.category==="*"?"Clothing":e.filters.category]}),e.filters.name?i("p",{className:"catalogHeaderSearchValue",children:["Search result for: ",e.filters.name]}):""]}),t("div",{className:"catalogCategories",children:H.map((g,v)=>v===0&&!c.category?t("button",{className:"selectedCategoryBtn",onClick:f,children:g},v):g===c.category?t("button",{className:"selectedCategoryBtn",onClick:f,children:g},v):t("button",{onClick:f,children:g},v))}),i("div",{className:"catalogFilterAndAmountContainer",children:[t("div",{className:"catalogProductAmount",children:i("p",{children:[e.rawSearchData.length," Products"]})}),i("button",{className:"catalogFilter",ref:n,children:[t("img",{src:E}),"Filter"]})]}),t(A,{filtersBtn:n})]})}const N=["name","category","price","color","size"];function y(s){let e;const o=[];if(s.length>10){e=Math.ceil(s.length/10);for(let l=0;l<e;l++){let c=[],r=l===0?1:l+1,a=l*10;for(a;a<=r*10&&!(a>=r*10||a+1>s.length);a++)c.push(s[a]);o.push(c)}}else{let l=[],c=1;for(let r=0;r<=c*10&&!(r>=c*10||r+1>s.length);r++)l.push(s[r]);o.push(l)}return o}function R(){const s=k(),e=D(),o=P(),[l,c]=d.useState({filters:{name:e.searchValue,category:"*"},rawSearchData:h({name:e.searchValue,category:"*"},m),searchData:y(h({name:e.searchValue,category:"*"},m)),catalogPage:1});return d.useEffect(()=>{const r=Object.fromEntries(new URLSearchParams(o.search)),a={};for(const n in r)for(const f in N)if(n===N[f]){a[n]=r[n];break}Object.keys(a).length!==0?c({...l,filters:{...l.filters,...a},rawSearchData:h({...l.filters,...a},m),searchData:y(h({...l.filters,...a},m)),catalogPage:1}):(c({filters:{name:r.searchValue,category:"*"},rawSearchData:h({name:r.searchValue,category:"*"},m),searchData:y(h({name:r.searchValue,category:"*"},m)),catalogPage:1}),s("/catalog"))},[o.search]),t(b,{children:i("div",{className:"websiteContent",children:[t(O,{catalogData:l,setCatalogData:c,searchValue:e.searchValue}),t(S,{catalogData:l,setCatalogData:c,searchValue:e.searchValue}),t(L,{catalogData:l,setCatalogData:c})]})})}export{R as default};
