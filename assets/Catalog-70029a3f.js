import{a as e,F as y,j as i,r as d,g as P,h as S,u as p,f as k}from"./index-79a01a5e.js";import{s as f,J as v}from"./filter-d07eb3c7.js";import{P as D}from"./Product-56c702b4.js";function L(r){const t=r.catalogData.searchData[r.catalogData.catalogPage-1];return t?e(y,{children:e("div",{className:"catalogProductsContainer",children:r.catalogData.searchData.length>0?t.map((s,n)=>e("div",{className:"catalogProduct",children:e(D,{product_object:s})},n)):e("p",{children:"NO PRODUCTS WERE FOUND"})})}):e("p",{children:"damn"})}function A(r){const t=r.catalogData,s=r.setCatalogData,n=()=>{t.catalogPage>1&&(s({...t,catalogPage:t.catalogPage-1}),document.documentElement.scrollTop=0)},c=()=>{t.catalogPage<t.searchData.length&&(s({...t,catalogPage:t.catalogPage+1}),document.documentElement.scrollTop=0)},l=a=>{a.target.textContent!=t.catalogPage&&(s({...t,catalogPage:Number(a.target.textContent)}),document.documentElement.scrollTop=0)};for(let a=0;a<document.querySelectorAll(".numberedBtns").length;a++)document.querySelectorAll(".numberedBtns")[a].textContent==t.catalogPage?document.querySelectorAll(".numberedBtns")[a].classList.add("deactivateNumberedBtn"):document.querySelectorAll(".numberedBtns")[a].classList.remove("deactivateNumberedBtn");return i("div",{className:"catalogPagesNavigatorContainer",children:[e("button",{onClick:n,className:`movingBtns ${t.catalogPage===1?"deactivateMovingBtn":""}`,children:"<"}),e("button",{onClick:l,className:"numberedBtns",children:1}),t.searchData.length<4?t.searchData.map((a,o)=>{if(!(o===0||t.searchData.length===1))return e("button",{onClick:l,className:"numberedBtns",children:o+1},o)}):t.searchData.map((a,o)=>{if(!(t.searchData.length===1||o===t.searchData.length-1))return e("button",{onClick:l,className:"numberedBtns",children:o+2},o)}),e("button",{onClick:c,className:`movingBtns ${t.catalogPage===t.searchData.length?"deactivateMovingBtn":""}`,children:">"})]})}const O="/online-shop/assets/filterIcon-2a7d15cc.png";function w(r){return e("div",{className:"catalogFilterBtn",onClick:()=>{r.setOptionSelected({name:r.name,element:r.element})},children:i("div",{className:"catalogFilterBtnContainer",children:[e("p",{children:r==null?void 0:r.name}),i("button",{className:"filterArrowBtn",children:[e("div",{}),e("div",{})]})]})})}function F(r){return e("div",{className:"viewItemsContainer",children:e("button",{onClick:()=>{r.closeFilterMenu(!1)},children:"VIEW ITEMS"})})}const E=[{name:"Red",value:"rgb(255,0,0)"},{name:"Brown",value:"rgb(165, 42, 42)"},{name:"Khaki",value:"rgb(240, 230, 140)"},{name:"Yellow",value:"rgb(255,255,0)"},{name:"Olive",value:"rgb(128,128,0)"},{name:"Green",value:"rgb(0,255,0)"},{name:"Light blue",value:"rgb(173, 216, 230)"},{name:"Blue",value:"rgb(0, 0, 255)"},{name:"Navy",value:"rgb(0, 0, 128)"},{name:"Purple",value:"rgb(128, 0, 128)"},{name:"Pink",value:"rgb(255, 192, 203)"},{name:"Black",value:"rgb(0,0,0)"},{name:"Gray",value:"rgb(128, 128, 128)"},{name:"Beige",value:"rgb(245, 245, 220)"},{name:"White",value:"rgb(255,255,255)"}];function T(r){const t=r.filters,s=r.setFilters,n=(c,l)=>{t.colors?t.colors.indexOf(l)===-1?(c.currentTarget.classList.add("selected"),s(a=>({...a,colors:[l,...a.colors]}))):(c.currentTarget.classList.remove("selected"),s(a=>{if(a.colors.filter(o=>o!==l).length===0){const{colors:o,...u}=a;return u}return{...a,colors:a.colors.filter(o=>o!==l)}})):(c.currentTarget.classList.add("selected"),s(a=>({...a,colors:[l]})))};return e("div",{className:"filterOptionContaianer",children:E.map((c,l)=>{var o;let a=!1;return((o=t==null?void 0:t.colors)==null?void 0:o.indexOf(c.name))!==-1&&t.colors&&(a=!0),e("div",{className:`catalogFilterBtn ${a&&"selected"} `,onClick:u=>{n(u,c.name)},children:i("div",{className:"catalogFilterBtnContainer",children:[e("div",{style:{backgroundColor:c.value},className:"colorDiv"}),e("p",{children:c.name}),e("div",{class:"check"})]})},l)})})}function q(r){return e("div",{className:"filterOptionContaianer",children:"Brand"})}const H=["Shirts","Dresses","Jeans","Sportswear","Coats","Tops","Hoodies","Leggings","Trousers"];function V(r){return e("div",{className:"filterOptionContaianer",children:H.map((t,s)=>e("div",{className:"catalogFilterBtn",onClick:()=>{r.setFilters(n=>({...n,category:t}))},children:e("div",{className:"catalogFilterBtnContainer",children:e("p",{children:t})})},s))})}function x(r){return e("div",{className:"filterOptionContaianer",children:"Price"})}function I(r){return e("div",{className:"filterOptionContaianer",children:"Size"})}let M=[{name:"Brand",element:e(q,{})},{name:"Category",element:e(V,{})},{name:"Color",element:e(T,{})},{name:"Size",element:e(I,{})},{name:"Price",element:e(x,{})}];function R(r){var g;const t=r.filtersBtn.current,s=d.useRef(null),[n,c]=d.useState(!1),[l,a]=d.useState(null),[o,u]=d.useState({});return t&&(t.onclick=()=>{c(!n)}),d.useEffect(()=>{n?(s.current.classList.add("on"),document.body.style.overflow="hidden",a(null)):(s.current.classList.remove("on"),document.body.style.overflow="auto")},[n]),d.useEffect(()=>{l!==null&&(document.querySelector(".catalogFiltersSecond").classList.add("Active"),document.querySelector(".catalogFiltersFirst").classList.remove("Active")),l===null&&(document.querySelector(".catalogFiltersSecond").classList.remove("Active"),document.querySelector(".catalogFiltersFirst").classList.add("Active"))},[l]),i("div",{className:"catalogFilterMenu",ref:s,children:[i("div",{className:"catalogFiltersContainer",children:[i("div",{className:"catalogFiltersFirst",children:[e("div",{className:"catalogFilterHeader",children:e("p",{children:"FILTER"})}),e("div",{className:"catalogFilterOptions",children:M.map((m,B)=>e(w,{name:m.name,element:m.element,setOptionSelected:a},B))}),e(F,{closeFilterMenu:c})]}),i("div",{className:"catalogFiltersSecond",children:[i("div",{className:"catalogFilterHeader",children:[i("button",{onClick:()=>{document.querySelector(".catalogFiltersSecond").classList.remove("Active"),document.querySelector(".catalogFiltersFirst").classList.add("Active"),setTimeout(()=>{a(null)},500)},children:[e("div",{}),e("div",{})]}),e("p",{onClick:()=>{document.querySelector(".catalogFiltersSecond").classList.remove("Active"),document.querySelector(".catalogFiltersFirst").classList.add("Active"),setTimeout(()=>{a(null)},500)},children:(g=l==null?void 0:l.name)==null?void 0:g.toUpperCase()})]}),e("div",{className:"catalogFilterOptions",children:(l==null?void 0:l.element)&&d.cloneElement(l==null?void 0:l.element,{setFilters:u,filters:o})}),e(F,{closeFilterMenu:c})]})]}),e("div",{className:"catalogFiltersShadow",onClick:()=>{c(!1)}})]})}const j=["All Categories","Shirts","Dresses","Jeans","Sportswear","Coats","Tops","Hoodies","Leggings","Trousers"];let h=null;const N=(r,t)=>{for(var s=0;s<t.length;s++)if(t[s].textContent==r)return t[s];return"nothing"};function U(r){const t=r.catalogData,s=P(),n=S(),c=Object.fromEntries(new URLSearchParams(n.search));let l,a;const o=d.useRef(null),u=g=>{h!==g.target&&(a=g.target.textContent==="All Categories"?"*":g.target.textContent,l={category:a},h!==null&&h.classList.remove("selectedCategoryBtn"),g.target.classList.add("selectedCategoryBtn"),h=g.target,s(l,!0))};return d.useEffect(()=>{h=document.querySelector(".selectedCategoryBtn")},[]),d.useEffect(()=>{const g=document.querySelector(".catalogCategories").childNodes;c.category?h=N(c.category!=="*"?c.category:"All Categories",g):h=N("All Categories",g)},[c]),i("div",{className:"catalogHeader",children:[i("div",{className:"catalogCategoryName",children:[i("p",{children:["Women ",t.filters.category==="*"?"Clothing":t.filters.category]}),t.filters.name?i("p",{className:"catalogHeaderSearchValue",children:["Search result for: ",t.filters.name]}):""]}),e("div",{className:"catalogCategories",children:j.map((g,m)=>m===0&&!c.category?e("button",{className:"selectedCategoryBtn",onClick:u,children:g},m):g===c.category?e("button",{className:"selectedCategoryBtn",onClick:u,children:g},m):e("button",{onClick:u,children:g},m))}),i("div",{className:"catalogFilterAndAmountContainer",children:[e("div",{className:"catalogProductAmount",children:i("p",{children:[t.rawSearchData.length," Products"]})}),i("button",{className:"catalogFilter",ref:o,children:[e("img",{src:O}),"Filter"]})]}),e(R,{filtersBtn:o})]})}const b=["name","category","price","color","size"];function C(r){let t;const s=[];if(r.length>10){t=Math.ceil(r.length/10);for(let n=0;n<t;n++){let c=[],l=n===0?1:n+1,a=n*10;for(a;a<=l*10&&!(a>=l*10||a+1>r.length);a++)c.push(r[a]);s.push(c)}}else{let n=[],c=1;for(let l=0;l<=c*10&&!(l>=c*10||l+1>r.length);l++)n.push(r[l]);s.push(n)}return s}function $(){const r=p(),t=k(),s=S(),[n,c]=d.useState({filters:{name:t.searchValue,category:"*"},rawSearchData:f({name:t.searchValue,category:"*"},v),searchData:C(f({name:t.searchValue,category:"*"},v)),catalogPage:1});return d.useEffect(()=>{const l=Object.fromEntries(new URLSearchParams(s.search)),a={};for(const o in l)for(const u in b)if(o===b[u]){a[o]=l[o];break}Object.keys(a).length!==0?c({...n,filters:{...n.filters,...a},rawSearchData:f({...n.filters,...a},v),searchData:C(f({...n.filters,...a},v)),catalogPage:1}):(c({filters:{name:l.searchValue,category:"*"},rawSearchData:f({name:l.searchValue,category:"*"},v),searchData:C(f({name:l.searchValue,category:"*"},v)),catalogPage:1}),r("/catalog"))},[s.search]),e(y,{children:i("div",{className:"websiteContent",children:[e(U,{catalogData:n,setCatalogData:c,searchValue:t.searchValue}),e(L,{catalogData:n,setCatalogData:c,searchValue:t.searchValue}),e(A,{catalogData:n,setCatalogData:c})]})})}export{$ as default};
