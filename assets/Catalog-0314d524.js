import{a,F as b,j as u,r as m,g as w,h as S,u as A,f as T}from"./index-ece2c034.js";import{s as v,J as C}from"./filter-d07eb3c7.js";import{P as I}from"./Product-14f9b62b.js";function H(n){const t=n.catalogData.searchData[n.catalogData.catalogPage-1];return t?a(b,{children:a("div",{className:"catalogProductsContainer",children:n.catalogData.searchData.length>0?t.map((c,s)=>a("div",{className:"catalogProduct",children:a(I,{product_object:c})},s)):a("p",{children:"NO PRODUCTS WERE FOUND"})})}):a("p",{children:"damn"})}function x(n){const t=n.catalogData,c=n.setCatalogData,s=()=>{t.catalogPage>1&&(c({...t,catalogPage:t.catalogPage-1}),document.documentElement.scrollTop=0)},o=()=>{t.catalogPage<t.searchData.length&&(c({...t,catalogPage:t.catalogPage+1}),document.documentElement.scrollTop=0)},e=r=>{r.target.textContent!=t.catalogPage&&(c({...t,catalogPage:Number(r.target.textContent)}),document.documentElement.scrollTop=0)};for(let r=0;r<document.querySelectorAll(".numberedBtns").length;r++)document.querySelectorAll(".numberedBtns")[r].textContent==t.catalogPage?document.querySelectorAll(".numberedBtns")[r].classList.add("deactivateNumberedBtn"):document.querySelectorAll(".numberedBtns")[r].classList.remove("deactivateNumberedBtn");return u("div",{className:"catalogPagesNavigatorContainer",children:[a("button",{onClick:s,className:`movingBtns ${t.catalogPage===1?"deactivateMovingBtn":""}`,children:"<"}),a("button",{onClick:e,className:"numberedBtns",children:1}),t.searchData.length<4?t.searchData.map((r,l)=>{if(!(l===0||t.searchData.length===1))return a("button",{onClick:e,className:"numberedBtns",children:l+1},l)}):t.searchData.map((r,l)=>{if(!(t.searchData.length===1||l===t.searchData.length-1))return a("button",{onClick:e,className:"numberedBtns",children:l+2},l)}),a("button",{onClick:o,className:`movingBtns ${t.catalogPage===t.searchData.length?"deactivateMovingBtn":""}`,children:">"})]})}const V="/online-shop/assets/filterIcon-2a7d15cc.png";function q(n){const t=n.option,c=n.data;return a("div",{className:"catalogFilterBtn",onClick:()=>{n.setOptionSelected({name:t.name,element:t.element,data:t==null?void 0:t.data})},children:u("div",{className:"catalogFilterBtnContainer",children:[u("div",{className:"catalogFilterBtnContainerWrapper",children:[a("p",{children:t==null?void 0:t.name}),u("button",{className:"filterArrowBtn",children:[a("div",{}),a("div",{})]})]}),c[t.name.toLowerCase()]&&a("div",{className:"selectedDataContainer",children:c[t.name.toLowerCase()].toString().replaceAll(","," , ")})]})})}function L(n){return a("div",{className:"viewItemsContainer",children:a("button",{onClick:()=>{n.closeFilterMenu(!1)},children:"VIEW ITEMS"})})}function z(n){const t=n.filters,c=n.setFilters,s=n.data,o=(e,r)=>{t.color?t.color.indexOf(r)===-1?(e.currentTarget.classList.add("selected"),c(l=>({...l,color:[r,...l.color]}))):(e.currentTarget.classList.remove("selected"),c(l=>{if(l.color.filter(i=>i!==r).length===0){const{color:i,...d}=l;return d}return{...l,color:l.color.filter(i=>i!==r)}})):(e.currentTarget.classList.add("selected"),c(l=>({...l,color:[r]})))};return a("div",{className:"filterOptionContaianer",children:s.map((e,r)=>{var i;let l=!1;return((i=t==null?void 0:t.color)==null?void 0:i.indexOf(e.name))!==-1&&t.color&&(l=!0),a("div",{className:`filterOptionBtn ${l&&"selected"} `,onClick:d=>{o(d,e.name)},children:u("div",{className:"filterOptionBtnContainer",children:[a("div",{style:{backgroundColor:e.value},className:"colorDiv"}),a("p",{children:e.name}),a("div",{className:"check"})]})},r)})})}function R(n){const t=n.filters,c=n.setFilters,s=n.data,o=(e,r)=>{t.category?t.category.indexOf(r)===-1?(e.currentTarget.classList.add("selected"),c(l=>({...l,category:[r,...l.category]}))):(e.currentTarget.classList.remove("selected"),c(l=>{if(l.category.filter(i=>i!==r).length===0){const{category:i,...d}=l;return d}return{...l,category:l.category.filter(i=>i!==r)}})):(e.currentTarget.classList.add("selected"),c(l=>({...l,category:[r]})))};return a("div",{className:"filterOptionContaianer",children:s.map((e,r)=>{var i;let l=!1;return((i=t==null?void 0:t.category)==null?void 0:i.indexOf(e.name))!==-1&&t.category&&(l=!0),a("div",{className:`filterOptionBtn ${l&&"selected"} `,onClick:d=>{o(d,e.name)},children:u("div",{className:"filterOptionBtnContainer",children:[a("p",{children:e.name}),a("div",{className:"check"})]})},r)})})}function $(n){const t=n.filters,c=n.setFilters,s=m.useRef(null),o=(e,r)=>{t.sale?(e.currentTarget.classList.remove("selected"),c(l=>{const{sale:i,...d}=l;return d})):(e.currentTarget.classList.add("selected"),c(l=>({...l,sale:!0})))};return m.useEffect(()=>{document.getElementById("priceInput").value="5";const e=()=>{s.current.textContent=`${document.getElementById("priceInput").value}$`};return document.getElementById("priceInput").addEventListener("input",e),()=>{var r;(r=document==null?void 0:document.getElementById("priceInput"))==null||r.removeEventListener("input",e)}},[]),u("div",{className:"filterOptionContaianer",children:[a("div",{className:`filterOptionBtn ${(t==null?void 0:t.sale)!==!1&&t.sale&&"selected"} `,onClick:e=>{o(e,t.sale)},children:u("div",{className:"filterOptionBtnContainer",children:[a("p",{children:"Sale"}),a("div",{className:"check"})]})}),a("div",{className:"filterOptionBtn  ",onClick:e=>{},children:u("div",{className:"filterOptionBtnContainer",children:[a("button",{className:"priceBtn",children:"Over"}),a("p",{ref:s,children:"5$"}),u("div",{className:"inputWrapper",children:[a("input",{type:"range",id:"priceInput",defaultValue:5,min:"5",max:"250",step:"5",list:"tickmarks"}),u("datalist",{id:"tickmarks",children:[a("option",{value:"5",label:"5$"}),a("option",{value:"250",label:"250$"})]})]})]})})]})}function M(n){const t=n.filters,c=n.setFilters,s=n.data,o=(e,r)=>{t.size?t.size.indexOf(r)===-1?(e.currentTarget.classList.add("selected"),c(l=>({...l,size:[r,...l.size]}))):(e.currentTarget.classList.remove("selected"),c(l=>{if(l.size.filter(i=>i!==r).length===0){const{size:i,...d}=l;return d}return{...l,size:l.size.filter(i=>i!==r)}})):(e.currentTarget.classList.add("selected"),c(l=>({...l,size:[r]})))};return a("div",{className:"filterOptionContaianer",children:s.map((e,r)=>{var i;let l=!1;return((i=t==null?void 0:t.size)==null?void 0:i.indexOf(e.name))!==-1&&t.size&&(l=!0),a("div",{className:`filterOptionBtn ${l&&"selected"} `,onClick:d=>{o(d,e.name)},children:u("div",{className:"filterOptionBtnContainer",children:[a("p",{children:e.name}),a("div",{className:"check"})]})},r)})})}const j=[{name:"Red",value:"rgb(255,0,0)"},{name:"Brown",value:"rgb(165, 42, 42)"},{name:"Khaki",value:"rgb(240, 230, 140)"},{name:"Yellow",value:"rgb(255,255,0)"},{name:"Olive",value:"rgb(128,128,0)"},{name:"Green",value:"rgb(0,255,0)"},{name:"Light blue",value:"rgb(173, 216, 230)"},{name:"Blue",value:"rgb(0, 0, 255)"},{name:"Navy",value:"rgb(0, 0, 128)"},{name:"Purple",value:"rgb(128, 0, 128)"},{name:"Pink",value:"rgb(255, 192, 203)"},{name:"Black",value:"rgb(0,0,0)"},{name:"Gray",value:"rgb(128, 128, 128)"},{name:"Beige",value:"rgb(245, 245, 220)"},{name:"White",value:"rgb(255,255,255)"}],U=[{name:"Shirts"},{name:"Dresses"},{name:"Jeans"},{name:"Sportswear"},{name:"Coats"},{name:"Tops"},{name:"Hoodies"},{name:"Leggings"},{name:"Trousers"}],W=[{name:"XXS"},{name:"XS"},{name:"S"},{name:"M"},{name:"L"},{name:"XL"},{name:"XXL"}];let X=[{name:"Category",element:a(R,{}),data:U},{name:"Color",element:a(z,{}),data:j},{name:"Size",element:a(M,{}),data:W},{name:"Price",element:a($,{})}];function J(n){var d,g;const t=n.filtersBtn.current,c=m.useRef(null),[s,o]=m.useState(!1),[e,r]=m.useState(null),[l,i]=m.useState({});return t&&(t.onclick=()=>{o(!s)}),m.useEffect(()=>{console.log(l)},[l]),m.useEffect(()=>{s?(c.current.classList.add("on"),document.body.style.overflow="hidden",r(null)):(c.current.classList.remove("on"),document.body.style.overflow="auto",console.log(new URLSearchParams(l).toString()))},[s]),m.useEffect(()=>{e!==null&&(document.querySelector(".catalogFiltersSecond").classList.add("Active"),document.querySelector(".catalogFiltersFirst").classList.remove("Active")),e===null&&(document.querySelector(".catalogFiltersSecond").classList.remove("Active"),document.querySelector(".catalogFiltersFirst").classList.add("Active"))},[e]),u("div",{className:"catalogFilterMenu",ref:c,children:[u("div",{className:"catalogFiltersContainer",children:[u("div",{className:"catalogFiltersFirst",children:[a("div",{className:"catalogFilterHeader",children:a("p",{children:"FILTER"})}),a("div",{className:"catalogFilterOptions",children:X.map((N,F)=>a(q,{option:{...N},setOptionSelected:r,data:l},F))}),a(L,{closeFilterMenu:o})]}),u("div",{className:"catalogFiltersSecond",children:[u("div",{className:"catalogFilterHeader",children:[u("button",{onClick:()=>{document.querySelector(".catalogFiltersSecond").classList.remove("Active"),document.querySelector(".catalogFiltersFirst").classList.add("Active"),setTimeout(()=>{r(null)},500)},children:[a("div",{}),a("div",{})]}),a("p",{onClick:()=>{document.querySelector(".catalogFiltersSecond").classList.remove("Active"),document.querySelector(".catalogFiltersFirst").classList.add("Active"),setTimeout(()=>{r(null)},500)},children:(d=e==null?void 0:e.name)==null?void 0:d.toUpperCase()}),(e==null?void 0:e.name)!=="Price"&&a("button",{className:"selectionBtn",onClick:()=>{var N,F,p;if(l[(N=e==null?void 0:e.name)==null?void 0:N.toLowerCase()]){console.log("damn");const f={...l};delete f[(F=e==null?void 0:e.name)==null?void 0:F.toLowerCase()],i(f)}else{const f={...l},O=D=>{const B=[];return D.forEach(E=>{B.push(E.name)}),B};f[(p=e==null?void 0:e.name)==null?void 0:p.toLowerCase()]=O(e==null?void 0:e.data),console.log(f),i(f)}},children:l[(g=e==null?void 0:e.name)==null?void 0:g.toLowerCase()]?a("p",{children:"CLEAR"}):u(b,{children:[a("p",{children:"ALL"}),"  ",a("div",{className:"selectionBtnCheck"})]})})]}),a("div",{className:"catalogFilterOptions",children:(e==null?void 0:e.element)&&m.cloneElement(e==null?void 0:e.element,{setFilters:i,filters:l,data:e==null?void 0:e.data})}),a(L,{closeFilterMenu:o})]})]}),a("div",{className:"catalogFiltersShadow",onClick:()=>{o(!1)}})]})}const G=["All Categories","Shirts","Dresses","Jeans","Sportswear","Coats","Tops","Hoodies","Leggings","Trousers"];let h=null;const k=(n,t)=>{for(var c=0;c<t.length;c++)if(t[c].textContent==n)return t[c];return"nothing"};function K(n){const t=n.catalogData,c=w(),s=S(),o=Object.fromEntries(new URLSearchParams(s.search));let e,r;const l=m.useRef(null),i=d=>{h!==d.target&&(r=d.target.textContent==="All Categories"?"*":d.target.textContent,e={category:r},h!==null&&h.classList.remove("selectedCategoryBtn"),d.target.classList.add("selectedCategoryBtn"),h=d.target,c(e,!0))};return m.useEffect(()=>{h=document.querySelector(".selectedCategoryBtn")},[]),m.useEffect(()=>{const d=document.querySelector(".catalogCategories").childNodes;o.category?h=k(o.category!=="*"?o.category:"All Categories",d):h=k("All Categories",d)},[o]),u("div",{className:"catalogHeader",children:[u("div",{className:"catalogCategoryName",children:[u("p",{children:["Women ",t.filters.category==="*"?"Clothing":t.filters.category]}),t.filters.name?u("p",{className:"catalogHeaderSearchValue",children:["Search result for: ",t.filters.name]}):""]}),a("div",{className:"catalogCategories",children:G.map((d,g)=>g===0&&!o.category?a("button",{className:"selectedCategoryBtn",onClick:i,children:d},g):d===o.category?a("button",{className:"selectedCategoryBtn",onClick:i,children:d},g):a("button",{onClick:i,children:d},g))}),u("div",{className:"catalogFilterAndAmountContainer",children:[a("div",{className:"catalogProductAmount",children:u("p",{children:[t.rawSearchData.length," Products"]})}),u("button",{className:"catalogFilter",ref:l,children:[a("img",{src:V}),"Filter"]})]}),a(J,{filtersBtn:l})]})}const P=["name","category","price","color","size"];function y(n){let t;const c=[];if(n.length>10){t=Math.ceil(n.length/10);for(let s=0;s<t;s++){let o=[],e=s===0?1:s+1,r=s*10;for(r;r<=e*10&&!(r>=e*10||r+1>n.length);r++)o.push(n[r]);c.push(o)}}else{let s=[],o=1;for(let e=0;e<=o*10&&!(e>=o*10||e+1>n.length);e++)s.push(n[e]);c.push(s)}return c}function Z(){const n=A(),t=T(),c=S(),[s,o]=m.useState({filters:{name:t.searchValue,category:"*"},rawSearchData:v({name:t.searchValue,category:"*"},C),searchData:y(v({name:t.searchValue,category:"*"},C)),catalogPage:1});return m.useEffect(()=>{const e=Object.fromEntries(new URLSearchParams(c.search)),r={};for(const l in e)for(const i in P)if(l===P[i]){r[l]=e[l];break}Object.keys(r).length!==0?o({...s,filters:{...s.filters,...r},rawSearchData:v({...s.filters,...r},C),searchData:y(v({...s.filters,...r},C)),catalogPage:1}):(o({filters:{name:e.searchValue,category:"*"},rawSearchData:v({name:e.searchValue,category:"*"},C),searchData:y(v({name:e.searchValue,category:"*"},C)),catalogPage:1}),n("/catalog"))},[c.search]),a(b,{children:u("div",{className:"websiteContent",children:[a(K,{catalogData:s,setCatalogData:o,searchValue:t.searchValue}),a(H,{catalogData:s,setCatalogData:o,searchValue:t.searchValue}),a(x,{catalogData:s,setCatalogData:o})]})})}export{Z as default};
