import{a as t,F as y,j as g,r as u,g as E,h as S,u as O,f as T}from"./index-7443ac29.js";import{s as v,J as C}from"./filter-d07eb3c7.js";import{P as q}from"./Product-22fe2993.js";function H(l){const a=l.catalogData.searchData[l.catalogData.catalogPage-1];return a?t(y,{children:t("div",{className:"catalogProductsContainer",children:l.catalogData.searchData.length>0?a.map((c,s)=>t("div",{className:"catalogProduct",children:t(q,{product_object:c})},s)):t("p",{children:"NO PRODUCTS WERE FOUND"})})}):t("p",{children:"damn"})}function V(l){const a=l.catalogData,c=l.setCatalogData,s=()=>{a.catalogPage>1&&(c({...a,catalogPage:a.catalogPage-1}),document.documentElement.scrollTop=0)},o=()=>{a.catalogPage<a.searchData.length&&(c({...a,catalogPage:a.catalogPage+1}),document.documentElement.scrollTop=0)},e=r=>{r.target.textContent!=a.catalogPage&&(c({...a,catalogPage:Number(r.target.textContent)}),document.documentElement.scrollTop=0)};for(let r=0;r<document.querySelectorAll(".numberedBtns").length;r++)document.querySelectorAll(".numberedBtns")[r].textContent==a.catalogPage?document.querySelectorAll(".numberedBtns")[r].classList.add("deactivateNumberedBtn"):document.querySelectorAll(".numberedBtns")[r].classList.remove("deactivateNumberedBtn");return g("div",{className:"catalogPagesNavigatorContainer",children:[t("button",{onClick:s,className:`movingBtns ${a.catalogPage===1?"deactivateMovingBtn":""}`,children:"<"}),t("button",{onClick:e,className:"numberedBtns",children:1}),a.searchData.length<4?a.searchData.map((r,n)=>{if(!(n===0||a.searchData.length===1))return t("button",{onClick:e,className:"numberedBtns",children:n+1},n)}):a.searchData.map((r,n)=>{if(!(a.searchData.length===1||n===a.searchData.length-1))return t("button",{onClick:e,className:"numberedBtns",children:n+2},n)}),t("button",{onClick:o,className:`movingBtns ${a.catalogPage===a.searchData.length?"deactivateMovingBtn":""}`,children:">"})]})}const x="/online-shop/assets/filterIcon-2a7d15cc.png";function I(l){const a=l.option;return t("div",{className:"catalogFilterBtn",onClick:()=>{l.setOptionSelected({name:a.name,element:a.element,data:a==null?void 0:a.data})},children:g("div",{className:"catalogFilterBtnContainer",children:[t("p",{children:a==null?void 0:a.name}),g("button",{className:"filterArrowBtn",children:[t("div",{}),t("div",{})]})]})})}function p(l){return t("div",{className:"viewItemsContainer",children:t("button",{onClick:()=>{l.closeFilterMenu(!1)},children:"VIEW ITEMS"})})}function R(l){const a=l.filters,c=l.setFilters,s=l.data;console.log("rerender");const o=(e,r)=>{a.color?a.color.indexOf(r)===-1?(e.currentTarget.classList.add("selected"),c(n=>({...n,color:[r,...n.color]}))):(e.currentTarget.classList.remove("selected"),c(n=>{if(n.color.filter(d=>d!==r).length===0){const{color:d,...i}=n;return i}return{...n,color:n.color.filter(d=>d!==r)}})):(e.currentTarget.classList.add("selected"),c(n=>({...n,color:[r]})))};return t("div",{className:"filterOptionContaianer",children:s.map((e,r)=>{var d;let n=!1;return((d=a==null?void 0:a.color)==null?void 0:d.indexOf(e.name))!==-1&&a.color&&(n=!0),t("div",{className:`catalogFilterBtn ${n&&"selected"} `,onClick:i=>{o(i,e.name)},children:g("div",{className:"catalogFilterBtnContainer",children:[t("div",{style:{backgroundColor:e.value},className:"colorDiv"}),t("p",{children:e.name}),t("div",{class:"check"})]})},r)})})}function M(l){return t("div",{className:"filterOptionContaianer",children:"Brand"})}const j=["Shirts","Dresses","Jeans","Sportswear","Coats","Tops","Hoodies","Leggings","Trousers"];function U(l){return t("div",{className:"filterOptionContaianer",children:j.map((a,c)=>t("div",{className:"catalogFilterBtn",onClick:()=>{l.setFilters(s=>({...s,category:a}))},children:t("div",{className:"catalogFilterBtnContainer",children:t("p",{children:a})})},c))})}function z(l){return t("div",{className:"filterOptionContaianer",children:"Price"})}function J(l){return t("div",{className:"filterOptionContaianer",children:"Size"})}const W=[{name:"Red",value:"rgb(255,0,0)"},{name:"Brown",value:"rgb(165, 42, 42)"},{name:"Khaki",value:"rgb(240, 230, 140)"},{name:"Yellow",value:"rgb(255,255,0)"},{name:"Olive",value:"rgb(128,128,0)"},{name:"Green",value:"rgb(0,255,0)"},{name:"Light blue",value:"rgb(173, 216, 230)"},{name:"Blue",value:"rgb(0, 0, 255)"},{name:"Navy",value:"rgb(0, 0, 128)"},{name:"Purple",value:"rgb(128, 0, 128)"},{name:"Pink",value:"rgb(255, 192, 203)"},{name:"Black",value:"rgb(0,0,0)"},{name:"Gray",value:"rgb(128, 128, 128)"},{name:"Beige",value:"rgb(245, 245, 220)"},{name:"White",value:"rgb(255,255,255)"}];let $=[{name:"Brand",element:t(M,{})},{name:"Category",element:t(U,{})},{name:"Color",element:t(R,{}),data:W},{name:"Size",element:t(J,{})},{name:"Price",element:t(z,{})}];function G(l){var i,m;const a=l.filtersBtn.current,c=u.useRef(null),[s,o]=u.useState(!1),[e,r]=u.useState(null),[n,d]=u.useState({});return a&&(a.onclick=()=>{o(!s)}),u.useEffect(()=>{console.log(n)},[n]),u.useEffect(()=>{s?(c.current.classList.add("on"),document.body.style.overflow="hidden",r(null)):(c.current.classList.remove("on"),document.body.style.overflow="auto")},[s]),u.useEffect(()=>{e!==null&&(document.querySelector(".catalogFiltersSecond").classList.add("Active"),document.querySelector(".catalogFiltersFirst").classList.remove("Active")),e===null&&(document.querySelector(".catalogFiltersSecond").classList.remove("Active"),document.querySelector(".catalogFiltersFirst").classList.add("Active"))},[e]),g("div",{className:"catalogFilterMenu",ref:c,children:[g("div",{className:"catalogFiltersContainer",children:[g("div",{className:"catalogFiltersFirst",children:[t("div",{className:"catalogFilterHeader",children:t("p",{children:"FILTER"})}),t("div",{className:"catalogFilterOptions",children:$.map((F,N)=>t(I,{option:{...F},setOptionSelected:r},N))}),t(p,{closeFilterMenu:o})]}),g("div",{className:"catalogFiltersSecond",children:[g("div",{className:"catalogFilterHeader",children:[g("button",{onClick:()=>{document.querySelector(".catalogFiltersSecond").classList.remove("Active"),document.querySelector(".catalogFiltersFirst").classList.add("Active"),setTimeout(()=>{r(null)},500)},children:[t("div",{}),t("div",{})]}),t("p",{onClick:()=>{document.querySelector(".catalogFiltersSecond").classList.remove("Active"),document.querySelector(".catalogFiltersFirst").classList.add("Active"),setTimeout(()=>{r(null)},500)},children:(i=e==null?void 0:e.name)==null?void 0:i.toUpperCase()}),(e==null?void 0:e.name)!=="Price"&&t("button",{className:"selectionBtn",onClick:()=>{var F,N,B;if(n[(F=e==null?void 0:e.name)==null?void 0:F.toLowerCase()]){console.log("damn");const f={...n};delete f[(N=e==null?void 0:e.name)==null?void 0:N.toLowerCase()],d(f)}else{const f={...n},D=A=>{const P=[];return A.forEach(w=>{P.push(w.name)}),P};f[(B=e==null?void 0:e.name)==null?void 0:B.toLowerCase()]=D(e==null?void 0:e.data),console.log(f),d(f)}},children:n[(m=e==null?void 0:e.name)==null?void 0:m.toLowerCase()]?t("p",{children:"CLEAR"}):g(y,{children:[t("p",{children:"ALL"}),"  ",t("div",{class:"selectionBtnCheck"})]})})]}),t("div",{className:"catalogFilterOptions",children:(e==null?void 0:e.element)&&u.cloneElement(e==null?void 0:e.element,{setFilters:d,filters:n,data:e==null?void 0:e.data})}),t(p,{closeFilterMenu:o})]})]}),t("div",{className:"catalogFiltersShadow",onClick:()=>{o(!1)}})]})}const K=["All Categories","Shirts","Dresses","Jeans","Sportswear","Coats","Tops","Hoodies","Leggings","Trousers"];let h=null;const k=(l,a)=>{for(var c=0;c<a.length;c++)if(a[c].textContent==l)return a[c];return"nothing"};function Y(l){const a=l.catalogData,c=E(),s=S(),o=Object.fromEntries(new URLSearchParams(s.search));let e,r;const n=u.useRef(null),d=i=>{h!==i.target&&(r=i.target.textContent==="All Categories"?"*":i.target.textContent,e={category:r},h!==null&&h.classList.remove("selectedCategoryBtn"),i.target.classList.add("selectedCategoryBtn"),h=i.target,c(e,!0))};return u.useEffect(()=>{h=document.querySelector(".selectedCategoryBtn")},[]),u.useEffect(()=>{const i=document.querySelector(".catalogCategories").childNodes;o.category?h=k(o.category!=="*"?o.category:"All Categories",i):h=k("All Categories",i)},[o]),g("div",{className:"catalogHeader",children:[g("div",{className:"catalogCategoryName",children:[g("p",{children:["Women ",a.filters.category==="*"?"Clothing":a.filters.category]}),a.filters.name?g("p",{className:"catalogHeaderSearchValue",children:["Search result for: ",a.filters.name]}):""]}),t("div",{className:"catalogCategories",children:K.map((i,m)=>m===0&&!o.category?t("button",{className:"selectedCategoryBtn",onClick:d,children:i},m):i===o.category?t("button",{className:"selectedCategoryBtn",onClick:d,children:i},m):t("button",{onClick:d,children:i},m))}),g("div",{className:"catalogFilterAndAmountContainer",children:[t("div",{className:"catalogProductAmount",children:g("p",{children:[a.rawSearchData.length," Products"]})}),g("button",{className:"catalogFilter",ref:n,children:[t("img",{src:x}),"Filter"]})]}),t(G,{filtersBtn:n})]})}const L=["name","category","price","color","size"];function b(l){let a;const c=[];if(l.length>10){a=Math.ceil(l.length/10);for(let s=0;s<a;s++){let o=[],e=s===0?1:s+1,r=s*10;for(r;r<=e*10&&!(r>=e*10||r+1>l.length);r++)o.push(l[r]);c.push(o)}}else{let s=[],o=1;for(let e=0;e<=o*10&&!(e>=o*10||e+1>l.length);e++)s.push(l[e]);c.push(s)}return c}function Z(){const l=O(),a=T(),c=S(),[s,o]=u.useState({filters:{name:a.searchValue,category:"*"},rawSearchData:v({name:a.searchValue,category:"*"},C),searchData:b(v({name:a.searchValue,category:"*"},C)),catalogPage:1});return u.useEffect(()=>{const e=Object.fromEntries(new URLSearchParams(c.search)),r={};for(const n in e)for(const d in L)if(n===L[d]){r[n]=e[n];break}Object.keys(r).length!==0?o({...s,filters:{...s.filters,...r},rawSearchData:v({...s.filters,...r},C),searchData:b(v({...s.filters,...r},C)),catalogPage:1}):(o({filters:{name:e.searchValue,category:"*"},rawSearchData:v({name:e.searchValue,category:"*"},C),searchData:b(v({name:e.searchValue,category:"*"},C)),catalogPage:1}),l("/catalog"))},[c.search]),t(y,{children:g("div",{className:"websiteContent",children:[t(Y,{catalogData:s,setCatalogData:o,searchValue:a.searchValue}),t(H,{catalogData:s,setCatalogData:o,searchValue:a.searchValue}),t(V,{catalogData:s,setCatalogData:o})]})})}export{Z as default};
